window.debug=(function(){var a=this,b=Array.prototype.slice,c=a.console,d={},e,f,g=9,h=['error','warn','info','debug','log'],i='assert clear count dir dirxml exception group groupCollapsed groupEnd profile profileEnd table time timeEnd trace'.split(' '),j=i.length,k=[];while(--j>=0)(function(a){d[a]=function(){g!==0&&c&&c[a]&&c[a].apply(c,arguments);};})(i[j]);j=h.length;while(--j>=0)(function(e,f){d[f]=function(){var d=b.call(arguments);var g=[f].concat(d);k.push(g);l(g);if(!c||!m(e))return;c.firebug?c[f].apply(a,d):c[f]?c[f](d):c.log(d);};})(j,h[j]);function l(b){if(e&&(f||!c||!c.log))e.apply(a,b);};d.setLevel=function(a){g=typeof a==='number'?a:9;};function m(a){return g>0?g>a:h.length+g<=a;};d.setCallback=function(){var a=b.call(arguments),c=k.length,d=c;e=a.shift()||null;f=typeof a[0]==='boolean'?a.shift():false;d-=typeof a[0]==='number'?a.shift():c;while(d<c)l(k[d++]);};return d;})();var domReady=(function(){var a=!!document.addEventListener,b=false,c=false,d=[];if(a){document.addEventListener("DOMContentLoaded",f,true);window.addEventListener("load",h,false);}else{document.attachEvent("onreadystatechange",f);window.attachEvent("onload",h);try{c=window.frameElement===null;}catch(e){}if(document.documentElement.doScroll&&c)g();}function f(){a?document.removeEventListener("DOMContentLoaded",f,true):document.readyState==="complete"&&document.detachEvent("onreadystatechange",f);h();}function g(){if(b)return;try{document.documentElement.doScroll("left");}catch(a){window.setTimeout(arguments.callee,15);return;}h();}function h(){if(b)return;b=true;var a=d.length,c=0;for(;c<a;c++)d[c].call(document);}return function(a){return b?a.call(document):d.push(a);};})();var CallbackRegistry={};function jsonp_request(a,b,c){var d=false;var e='f'+String(Math.random()).slice(2);var f=document.createElement('script');debug.log('jsonp_request',a,e,CallbackRegistry);a+=~a.indexOf('?')?'&':'?';a+='callback=CallbackRegistry.'+e;CallbackRegistry[e]=function(a){d=true;delete CallbackRegistry[e];b(a);document.body.removeChild(f);};function g(){if(d)return;delete CallbackRegistry[e];c(a);document.body.removeChild(f);}f.onreadystatechange=function(){if(this.readyState=='complete'||this.readyState=='loaded'){this.onreadystatechange=null;setTimeout(g,0);}};f.onload=f.onerror=g;f.src=a;document.body.appendChild(f);}var CallFeedDebug=false;var CallFeedSession=null;var CallFeedWidget=null;var CallFeedOptions=null;(function(a,b){function c(a){var c=/\+/g;function d(a){return i.raw?a:encodeURIComponent(a);}function e(a){return i.raw?a:decodeURIComponent(a);}function f(a){return d(i.json?JSON.stringify(a):String(a));}function g(a){if(a.indexOf('"')===0)a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,'\\');try{a=decodeURIComponent(a.replace(c,' '));return i.json?JSON.parse(a):a;}catch(b){}}function h(b,c){var d=i.raw?b:g(b);return a.isFunction(c)?c(d):d;}var i=a.cookie=function(c,g,j){if(arguments.length>1&&!a.isFunction(g)){j=a.extend({},i.defaults,j);if(typeof j.expires==='number'){var k=j.expires,l=j.expires=new Date();l.setMilliseconds(l.getMilliseconds()+k*1000);}return(b.cookie=[d(c),'=',f(g),j.expires?'; expires='+j.expires.toUTCString():'',j.path?'; path='+j.path:'',j.domain?'; domain='+j.domain:'',j.secure?'; secure':''].join(''));}var m=c?undefined:{},n=b.cookie?b.cookie.split('; '):[],o=0,p=n.length;for(;o<p;o++){var q=n[o].split('='),r=e(q.shift()),s=q.join('=');if(c===r){m=h(s,g);break;}if(!c&&(s=h(s))!==undefined)m[r]=s;}return m;};i.defaults={};a.removeCookie=function(b,c){a.cookie(b,'',a.extend({},c,{expires:-1}));return !a.cookie(b);};}(function(a,b){'use strict';if(typeof define==='function'&&define.amd)define(b);else a.simpleStorage=b();}(this,function(){'use strict';var c='0.1.3',d=false,e=0,f=false,g=null;function h(){a.localStorage.setItem('__simpleStorageInitTest','tmpval');a.localStorage.removeItem('__simpleStorageInitTest');k();n();i();if('addEventListener' in a)a.addEventListener('pageshow',function(a){if(a.persisted)j();},false);f=true;}function i(){if('addEventListener' in a)a.addEventListener('storage',j,false);else b.attachEvent('onstorage',j);}function j(){try{k();}catch(a){f=false;return;}n();}function k(){var a=localStorage.getItem('simpleStorage');try{d=JSON.parse(a)||{};}catch(b){d={};}e=m();}function l(){try{localStorage.setItem('simpleStorage',JSON.stringify(d));e=m();}catch(a){return a;}return true;}function m(){var a=localStorage.getItem('simpleStorage');return a?String(a).length:0;}function n(){var a,b,c,e,f,h=Infinity,i=0;clearTimeout(g);if(!d||!d.__simpleStorage_meta||!d.__simpleStorage_meta.TTL)return;a=+new Date();f=d.__simpleStorage_meta.TTL.keys||[];e=d.__simpleStorage_meta.TTL.expire||{};for(b=0,c=f.length;b<c;b++)if(e[f[b]]<=a){i++;delete d[f[b]];delete e[f[b]];}else{if(e[f[b]]<h)h=e[f[b]];break;}if(h!=Infinity)g=setTimeout(n,Math.min(h-a,0x7FFFFFFF));if(i){f.splice(0,i);p();l();}}function o(a,b){var c=+new Date(),e,f,h=false;b=Number(b)||0;if(b!==0){if(d.hasOwnProperty(a)){if(!d.__simpleStorage_meta)d.__simpleStorage_meta={};if(!d.__simpleStorage_meta.TTL)d.__simpleStorage_meta.TTL={expire:{},keys:[]};d.__simpleStorage_meta.TTL.expire[a]=c+b;if(d.__simpleStorage_meta.TTL.expire.hasOwnProperty(a))for(e=0,f=d.__simpleStorage_meta.TTL.keys.length;e<f;e++)if(d.__simpleStorage_meta.TTL.keys[e]==a)d.__simpleStorage_meta.TTL.keys.splice(e);for(e=0,f=d.__simpleStorage_meta.TTL.keys.length;e<f;e++)if(d.__simpleStorage_meta.TTL.expire[d.__simpleStorage_meta.TTL.keys[e]]>(c+b)){d.__simpleStorage_meta.TTL.keys.splice(e,0,a);h=true;break;}if(!h)d.__simpleStorage_meta.TTL.keys.push(a);}else return false;}else if(d&&d.__simpleStorage_meta&&d.__simpleStorage_meta.TTL){if(d.__simpleStorage_meta.TTL.expire.hasOwnProperty(a)){delete d.__simpleStorage_meta.TTL.expire[a];for(e=0,f=d.__simpleStorage_meta.TTL.keys.length;e<f;e++)if(d.__simpleStorage_meta.TTL.keys[e]==a){d.__simpleStorage_meta.TTL.keys.splice(e,1);break;}}p();}clearTimeout(g);if(d&&d.__simpleStorage_meta&&d.__simpleStorage_meta.TTL&&d.__simpleStorage_meta.TTL.keys.length)g=setTimeout(n,Math.min(Math.max(d.__simpleStorage_meta.TTL.expire[d.__simpleStorage_meta.TTL.keys[0]]-c,0),0x7FFFFFFF));return true;}function p(){var a=false,b=false,c;if(!d||!d.__simpleStorage_meta)return a;if(d.__simpleStorage_meta.TTL&&!d.__simpleStorage_meta.TTL.keys.length){delete d.__simpleStorage_meta.TTL;a=true;}for(c in d.__simpleStorage_meta)if(d.__simpleStorage_meta.hasOwnProperty(c)){b=true;break;}if(!b){delete d.__simpleStorage_meta;a=true;}return a;}try{h();}catch(q){}return{version:c,canUse:function(){return !!f;},set:function(a,b,c){if(a=='__simpleStorage_meta')return false;if(!d)return false;if(typeof b=='undefined')return this.deleteKey(a);c=c||{};try{b=JSON.parse(JSON.stringify(b));}catch(e){return e;}d[a]=b;o(a,c.TTL||0);return l();},get:function(a){if(!d)return false;if(d.hasOwnProperty(a)&&a!='__simpleStorage_meta')if(this.getTTL(a))return d[a];},deleteKey:function(a){if(!d)return false;if(a in d){delete d[a];o(a,0);return l();}return false;},setTTL:function(a,b){if(!d)return false;o(a,b);return l();},getTTL:function(a){var b;if(!d)return false;if(d.hasOwnProperty(a))if(d.__simpleStorage_meta&&d.__simpleStorage_meta.TTL&&d.__simpleStorage_meta.TTL.expire&&d.__simpleStorage_meta.TTL.expire.hasOwnProperty(a)){b=Math.max(d.__simpleStorage_meta.TTL.expire[a]-(+new Date())||0,0);return b||false;}else return Infinity;return false;},flush:function(){if(!d)return false;d={};try{localStorage.removeItem('simpleStorage');return true;}catch(a){return a;}},index:function(){if(!d)return false;var a=[],b;for(b in d)if(d.hasOwnProperty(b)&&b!='__simpleStorage_meta')a.push(b);return a;},storageSize:function(){return e;}};}));function d(a){return{position:'fixed',cookie_ttl_seconds:1*60*60,countdown_from:15,controllers:{delayed_popup:{delay:7000},hash_checker:{keyword:'callfeed'}},param_font1:'Arial',font_family1:'',font_url1:'',param_font_size_inputs:'14px',param_root_position_left:'initial',param_root_position_right:'20px',param_root_position_bottom:'10px',param_total_max_width:290,param_total_max_height:458,param_button_width:230,param_button_height:38,param_manager_panel_height:50,param_main_height:340,param_dial_height:270,param_free_height:280,param_free_sent_height:170,param_timeoff_height:280,param_timeoff_sent_height:170,param_message_height:400,param_message_sent_height:170,param_order_height:320,param_order_sent_height:210,param_z_index_global:9999,text_button:'обратный звонок',text_main:'<span style="color: #FAD468;">Здравствуйте!</span><br/>Получить 25% скидку на любой товар на нашем сайте очень легко!<br/>Просто закажите обратный звонок прямо сейчас.',text_dial_ready:'Подготовка соединения...',text_dial_start:'Ожидайте звонка!<br/>Производится соединение с оператором.',text_dial_calling:'Ожидайте звонка!<br/>Производится соединение с оператором.',text_dial_success:'Соединение установлено!<br/>Возьмите трубку.',text_dial_late:'Оператор не успел поднять трубку.',text_dial_failed:'Извините, сервис в данной момент не доступен.<br/>Просим прощение за доставленные неудобства.',text_dial_finished:'Соединение завершено.',text_order_start:'Выберите удобное время звонка',text_order_done:'Спасибо!<br/>Мы обязательно перезвоним Вам в указанное время.',text_order_failed:'Извините, сервис в данной момент не доступен.<br/>Просим прощение за доставленные неудобства.',text_message_start:'Постараемся ответить на Ваш вопрос как можно скорее',text_message_sent:'Спасибо за ваше сообщение!<br/>Мы обязательно свяжемся с вами в ближайшее время.',text_message_failed:'Извините, сервис в данной момент не доступен.<br/>Просим прощение за доставленные неудобства.',text_send_message_done:'Спасибо за Ваше сообщение!<br/>Мы обязательно свяжемся с Вами в ближайшее время.',text_timeoff_start:'<span style="color: #FAD468;">Здравствуйте!</span><br/>К сожалению наш рабочий день уже закончился. Пожалуйста оставьте Ваш номер телефона и выберите удобное время звонка.',text_timeoff_done:'Спасибо!<br/>Мы обязательно перезвоним Вам в указанное время.',text_timeoff_failed:'Извините, сервис в данной момент не доступен.<br/>Просим прощение за доставленные неудобства.',text_free_start:'<span style="color: #FAD468;">Здравствуйте!</span><br/>Оставьте Ваш номер телефона и выберите удобное время звонка. Мы перезвоним и проконсультируем по всем вопросам.',text_free_sent:'Спасибо!<br/>Мы обязательно перезвоним Вам в указанное время.',text_free_failed:'Извините, сервис в данной момент не доступен.<br/>Просим прощение за доставленные неудобства.',text_link_order:'Выбрать удобное время звонка',text_link_send_message:'Написать сообщение',text_link_go_back:'Назад',text_link_message_go_back:'Заказать звонок',color_background_global:'#4e5a5d',color_background_inputs:'#ccc',color_font_global:'#fff',color_font_link:'#BCBCAC',color_font_secondary_global:'#CCDCDC',color_opacity_global:'.9',color_opacity_main_button:'.9',color_opacity_call_panel:'1',color_opacity_inputs:'1',color_opacity_call_button:'1',color_background_image_global:'',flag_name_field:false,flag_name_field_obligatory:false,flag_email_field:false,flag_email_field_obligatory:true,flag_phone_field:true,flag_phone_field_obligatory:true,flag_button_text_animated:false,flag_is_operator_shown_in_widget:true,flag_disable_on_mobiles:false};}function e(a){var b="";b+="&lt;style type=&quot;text/css&quot;&gt;\n";b+="#callfeed_root {\n";b+="    position: fixed!important;\n";b+="    left: %(param_root_position_left)s!important;\n";b+="    right: %(param_root_position_right)s!important;\n";b+="    bottom: %(param_root_position_bottom)s!important;\n";b+="    width: %(param_total_max_width)spx!important;\n";b+="    /*height: %(param_total_max_height)spx!important;*/\n";b+="    /*-webkit-touch-callout: none;\n";b+="    -webkit-user-select: none;\n";b+="    -khtml-user-select: none;\n";b+="    -moz-user-select: none;\n";b+="    -ms-user-select: none;\n";b+="    user-select: none; */\n";b+="    overflow: hidden!important;\n";b+="}\n";b+="#cf_widget {\n";b+="    position: absolute!important;\n";b+="    left: 0px!important;\n";b+="    bottom: %(param_button_height)spx!important;\n";b+="    width: %(param_total_max_width)spx!important;\n";b+="    height: 100%!important;\n";b+="    overflow: hidden!important;\n";b+="    /* background-image: none!important; */\n";b+="    display: none;\n";b+="}\n";b+="#cf_widget_triangle_img {\n";b+="    position: absolute!important;\n";b+="    left: 134px!important;\n";b+="    bottom: -1px!important;\n";b+="    width: 0px!important;\n";b+="    height: 0px!important;\n";b+="    border-left: 10px solid rgba(0, 0, 0, 0)!important;\n";b+="    border-right: 10px solid rgba(0, 0, 0, 0)!important;\n";b+="    border-top: 11px solid %(color_background_global)s!important;\n";b+="    opacity: %(color_opacity_global)s!important;\n";b+="}\n";b+=".cf_content {\n";b+="    position: absolute!important;\n";b+="    left: 0px!important;\n";b+="    bottom: 10px!important;\n";b+="    width: %(param_total_max_width)spx!important;\n";b+="    /* background-image: none!important; */\n";b+="    /* background: none!important; */\n";b+="    border-radius: 15px!important;\n";b+="    overflow: hidden!important;\n";b+="}\n";b+=".cf_background {\n";b+="    position: absolute!important;\n";b+="    left: 0px!important;\n";b+="    top: 0px!important;\n";b+="    width: 100%!important;\n";b+="    height: 100%!important;\n";b+="    /* background-image: none!important; */\n";b+="    border-radius: 15px!important;\n";b+="    background-color: %(color_background_global)s!important;\n";b+="    opacity: %(color_opacity_global)s!important;\n";b+="    -webkit-background-size: cover;\n";b+="    -moz-background-size: cover;\n";b+="    -o-background-size: cover;\n";b+="    background-size: cover;\n";b+="}\n";b+="#cf_main_button {\n";b+="    position: absolute!important;\n";b+="    left: 30px!important;\n";b+="    bottom: 0px!important;\n";b+="    width: %(param_button_width)spx!important;\n";b+="    height: %(param_button_height)spx!important;\n";b+="    cursor: pointer!important;\n";b+="    font-size: 17px!important;\n";b+="    color: %(color_font_global)s!important;\n";b+="    /* background-image: none!important; */\n";b+="    background-color: %(color_background_global)s!important;\n";b+="    opacity: %(color_opacity_main_button)s!important;\n";b+="    border-radius: 19px!important;\n";b+="    -webkit-touch-callout: none;\n";b+="    -webkit-user-select: none;\n";b+="    -khtml-user-select: none;\n";b+="    -moz-user-select: none;\n";b+="    -ms-user-select: none;\n";b+="    user-select: none;\n";b+="}\n";b+="#cf_main_button:hover {\n";b+="	opacity: 1!important;\n";b+="}\n";b+="#cf_main_button_content {\n";b+="    position: absolute!important;\n";b+="    left: 0px!important;\n";b+="    top: 0px!important;\n";b+="    width: %(param_button_width)spx!important;\n";b+="    word-wrap: break-word!important;\n";b+="    text-align: center!important;\n";b+="    height: %(param_button_height)spx!important;\n";b+="    line-height: 38px!important;\n";b+="    vertical-align: middle;\n";b+="}\n";b+="#cf_main_button_label {\n";b+="    font-family: Arial!important;\n";b+="}\n";b+="#cf_copyright_link {\n";b+="    position: absolute!important;\n";b+="    bottom: 12px!important;\n";b+="    right: 12px!important;\n";b+="}\n";b+="#cf_copyright_link_content {\n";b+="    color: %(color_font_link)s!important;\n";b+="/*  color: %(color_font_global)s!important;\n";b+="    opacity: .7!important; */\n";b+="    font-size: 10px!important;\n";b+="    font-family: %(param_font1)s!important;\n";b+="    font-weight: 400!important;\n";b+="    text-decoration: none!important;\n";b+="}\n";b+=".cf_manager_panel {\n";b+="    position: absolute!important;\n";b+="    top: 24px!important;\n";b+="    left: 20px!important;\n";b+="    right: 20px!important;\n";b+="    height: %(param_manager_panel_height)spx!important;\n";b+="}\n";b+=".cf_manager_face {\n";b+="    position: absolute!important;\n";b+="    top: 0px!important;\n";b+="    left: 0px!important;\n";b+="    width: 50px!important;\n";b+="    height: %(param_manager_panel_height)spx!important;\n";b+="    border-radius: 50px!important;\n";b+="}\n";b+=".cf_manager_name {\n";b+="    position: absolute!important;\n";b+="    top: 5px!important;\n";b+="    left: 65px!important;\n";b+="    right: 0px!important;\n";b+="    height: 25px!important;\n";b+="    color: %(color_font_global)s!important;\n";b+="    font-size: 14px!important;\n";b+="}\n";b+=".cf_manager_role {\n";b+="    position: absolute!important;\n";b+="    top: 30px!important;\n";b+="    left: 65px!important;\n";b+="    right: 0px!important;\n";b+="    height: 20px!important;\n";b+="    color: %(color_font_scondary_global)s!important;\n";b+="    font-size: 12px!important;\n";b+="}\n";b+=".cf_close_button {\n";b+="    position: absolute!important;\n";b+="    right: 10px!important;\n";b+="    top: 10px!important;\n";b+="    width: 12px!important;\n";b+="    height: 12px!important;\n";b+="    cursor: pointer!important;\n";b+="}\n";b+=".cf_close_button_img {\n";b+="    position: absolute!important;\n";b+="    left: 0px!important;\n";b+="    top: 0px!important;\n";b+="    width: 12px!important;\n";b+="    height: 12px!important;\n";b+="}\n";b+=".cf_send_message_link {\n";b+="    position: absolute!important;\n";b+="    text-align: center!important;\n";b+="    left: 0px!important;\n";b+="    right: 0px!important;\n";b+="    bottom: 26px!important;\n";b+="    height: 16px!important;\n";b+="    color: %(color_font_link)s!important;\n";b+="    /* color: %(color_font_global)s!important;\n";b+="    opacity: .7!important; */\n";b+="    white-space: nowrap!important;\n";b+="    font-size: 13px!important;\n";b+="}\n";b+=".cf_time_select_link {\n";b+="    position: absolute!important;\n";b+="    text-align: center!important;\n";b+="    left: 0px!important;\n";b+="    right: 0px!important;\n";b+="    bottom: 52px!important;\n";b+="    height: 16px!important;\n";b+="    color: %(color_font_link)s!important;\n";b+="    /* color: %(color_font_global)s!important;\n";b+="    opacity: .7!important; */\n";b+="    white-space: nowrap!important;\n";b+="    font-size: 13px!important;\n";b+="}\n";b+=".cf_call_panel {\n";b+="    position: absolute!important;\n";b+="    left: 20px!important;\n";b+="    right: 20px!important;\n";b+="    height: 38px!important;\n";b+="    /* background-image: none!important; */\n";b+="    background-color: %(color_background_inputs)s!important;\n";b+="    opacity: %(color_opacity_call_panel)s!important;\n";b+="    border-radius: 19px!important;\n";b+="    border: 1px solid %(color_background_inputs)s;\n";b+="    box-sizing: border-box!important;\n";b+="}\n";b+=".cf_call_input {\n";b+="    position: absolute!important;\n";b+="    left: 18px!important;\n";b+="    top: 0px!important;\n";b+="    width: 190px!important;\n";b+="    height: 36px!important;\n";b+="    font-size: 16px!important;\n";b+="    border: 0px!important;\n";b+="}\n";b+=".cf_call_button {\n";b+="    position: absolute!important;\n";b+="    width: 36px!important;\n";b+="    height: 36px!important;\n";b+="    cursor: pointer!important;\n";b+="    opacity: %(color_opacity_call_button)s!important;\n";b+="}\n";b+=".cf_call_button_bg_img {\n";b+="    position: absolute!important;\n";b+="    left: 0px!important;\n";b+="    top: 0px!important;\n";b+="    width: 36px!important;\n";b+="    height: 36px!important;\n";b+="    opacity: %(color_opacity_call_button)s!important;\n";b+="}\n";b+=".cf_call_button_phone_img {\n";b+="    position: absolute!important;\n";b+="    left: 8px!important;\n";b+="    top: 8px!important;\n";b+="    width: 20px!important;\n";b+="    height: 20px!important;\n";b+="    opacity: %(color_opacity_call_button)s!important;\n";b+="}\n";b+=".cf_day_select {\n";b+="    position: absolute!important;\n";b+="    top: 0px!important;\n";b+="    left: 0px!important;\n";b+="    width: 130px!important;\n";b+="    height: 38px!important;\n";b+="    font-size: %(param_font_size_inputs)s!important;\n";b+="    color: #000!important;\n";b+="    border-radius: 19px!important;\n";b+="    cursor: pointer!important;\n";b+="    padding-left: 10px!important;\n";b+="}\n";b+=".cf_time_select {\n";b+="    position: absolute!important;\n";b+="    top: 0px!important;\n";b+="    right: 0px!important;\n";b+="    width: 80px!important;\n";b+="    height: 38px!important;\n";b+="    font-size: %(param_font_size_inputs)s!important;\n";b+="    color: #000!important;\n";b+="    border-radius: 19px!important;\n";b+="    cursor: pointer!important;\n";b+="    padding-left: 14px!important;\n";b+="}\n";b+=".cf_daytime_at_text {\n";b+="    position: absolute!important;\n";b+="    top: 10px!important;\n";b+="    left: 145px!important;\n";b+="    width: 16px!important;\n";b+="    height: 16px!important;\n";b+="    line-height: 16px!important;\n";b+="    color: %(color_font_global)s!important;\n";b+="    font-size: 16px!important;\n";b+="}\n";b+=".cf_custom_text {\n";b+="    position: absolute!important;\n";b+="    left: 20px!important;\n";b+="    right: 20px!important;\n";b+="    overflow: hidden!important;\n";b+="    /* cursor: default!important; */\n";b+="}\n";b+=".cf_custom_text_value {\n";b+="    font-family: %(param_font1)s!important;\n";b+="    font-weight: 400!important;\n";b+="    white-space: normal!important;\n";b+="    word-wrap:  break-word!important;\n";b+="}\n";b+="#cf_main_content {\n";b+="    display: none;\n";b+="    height: %(param_main_height)spx;\n";b+="}\n";b+="#cf_main_call_panel {\n";b+="    bottom: 87px!important;\n";b+="}\n";b+="#cf_main_custom_text {\n";b+="    top: 90px!important;\n";b+="    /* bottom: 130px!important; */\n";b+="}\n";b+="#cf_main_custom_text_value {\n";b+="    font-size: 16px!important;\n";b+="    color: %(color_font_global)s!important;\n";b+="    text-align: left!important;\n";b+="    line-height: 20px!important;\n";b+="}\n";b+="#cf_main_call_button {\n";b+="    position: absolute!important;\n";b+="    right: 21px!important;\n";b+="    bottom: 88px!important;\n";b+="}\n";b+="#cf_dial_content {\n";b+="    display: none;\n";b+="    height: %(param_dial_height)spx;\n";b+="    background-color: %(color_background_global)s!important;\n";b+="    opacity: %(color_opacity_global)s!important;\n";b+="}\n";b+="#cf_dial_custom_text {\n";b+="    top: 90px!important;\n";b+="    /* bottom: 110px!important; */\n";b+="}\n";b+="#cf_dial_custom_text_value {\n";b+="    font-size: 16px!important;\n";b+="    color: %(color_font_global)s!important;\n";b+="    text-align: left!important;\n";b+="    line-height: 20px!important;\n";b+="}\n";b+="#cf_dial_countdown_panel {\n";b+="    position: absolute!important;\n";b+="    left: 20px!important;\n";b+="    right: 20px!important;\n";b+="    bottom: 52px!important;\n";b+="    height: 50px!important;\n";b+="    text-align: center!important;\n";b+="}\n";b+="#cf_dial_countdown_text {\n";b+="    font-family: &quot;Courier Обычный&quot;,&quot;Courier&quot;!important;\n";b+="    font-weight: 600!important;\n";b+="    font-size: 50px!important;\n";b+="    line-height: 50px!important;\n";b+="}\n";b+="#cf_free_content {\n";b+="    display: none;\n";b+="    height: %(param_free_height)spx;\n";b+="    background-color: %(color_background_global)s!important;\n";b+="    opacity: %(color_opacity_global)s!important;\n";b+="}\n";b+="#cf_free_call_button {\n";b+="    position: absolute!important;\n";b+="    right: 21px!important;\n";b+="    bottom: 51px!important;\n";b+="}\n";b+="#cf_free_call_panel {\n";b+="    bottom: 50px!important;\n";b+="}\n";b+="#cf_free_daytime_panel {\n";b+="    position: absolute!important;\n";b+="    left: 20px!important;\n";b+="    right: 20px!important;\n";b+="    bottom: 100px!important;\n";b+="    height: 38px!important;\n";b+="}\n";b+="#cf_free_custom_text {\n";b+="    top: 90px!important;\n";b+="    /* bottom: 148px!important; */\n";b+="}\n";b+="#cf_free_custom_text_value {\n";b+="    font-size: 16px!important;\n";b+="    color: %(color_font_global)s!important;\n";b+="    text-align: left!important;\n";b+="    line-height: 16px!important;\n";b+="}\n";b+="#cf_free_sent_custom_text {\n";b+="    top: 24px!important;\n";b+="    /* bottom: 52px!important; */\n";b+="}\n";b+="#cf_free_sent_custom_text_value {\n";b+="    font-size: 16px!important;\n";b+="    color: %(color_font_global)s!important;\n";b+="    text-align: left!important;\n";b+="    line-height: 16px!important;\n";b+="}\n";b+="#cf_free_sent_content {\n";b+="    display: none;\n";b+="    height: %(param_free_sent_height)spx;\n";b+="    background-color: %(color_background_global)s!important;\n";b+="    opacity: %(color_opacity_global)s!important;\n";b+="}\n";b+="#cf_timeoff_content {\n";b+="    display: none;\n";b+="    height: %(param_timeoff_height)spx;\n";b+="}\n";b+="#cf_timeoff_call_button {\n";b+="    position: absolute!important;\n";b+="    right: 21px!important;\n";b+="    bottom: 61px!important;\n";b+="}\n";b+="#cf_timeoff_custom_text {\n";b+="    top: 24px!important;\n";b+="    /* height: 140px!important; */\n";b+="    /* right: 40px!important; */\n";b+="}\n";b+="#cf_timeoff_custom_text_value {\n";b+="    font-size: 16px!important;\n";b+="    color: %(color_font_global)s!important;\n";b+="    text-align: left!important;\n";b+="    line-height: 16px!important;\n";b+="}\n";b+="#cf_timeoff_call_panel {\n";b+="    bottom: 60px!important;\n";b+="}\n";b+="#cf_timeoff_daytime_panel {\n";b+="    position: absolute!important;\n";b+="    left: 20px!important;\n";b+="    right: 20px!important;\n";b+="    bottom: 110px!important;\n";b+="    height: 38px!important;\n";b+="}\n";b+="#cf_timeoff_sent_custom_text {\n";b+="    top: 24px!important;\n";b+="    /* bottom: 52px!important; */\n";b+="}\n";b+="#cf_timeoff_sent_custom_text_value {\n";b+="    font-size: 16px!important;\n";b+="    color: %(color_font_global)s!important;\n";b+="    text-align: left!important;\n";b+="    line-height: 16px!important;\n";b+="}\n";b+="#cf_timeoff_sent_content {\n";b+="    display: none;\n";b+="    height: %(param_timeoff_sent_height)spx;\n";b+="    background-color: %(color_background_global)s!important;\n";b+="    opacity: %(color_opacity_global)s!important;\n";b+="}\n";b+="#cf_message_content {\n";b+="    display: none;\n";b+="    height: %(param_message_height)spx;\n";b+="}\n";b+="#cf_message_custom_text {\n";b+="    top: 24px!important;\n";b+="    right: 40px!important;\n";b+="    /* height: 60px!important; */\n";b+="}\n";b+="#cf_message_custom_text_value {\n";b+="    font-size: 16px!important;\n";b+="    color: %(color_font_global)s!important;\n";b+="    text-align: left!important;\n";b+="    line-height: 16px!important;\n";b+="}\n";b+="#cf_message_message_textarea {\n";b+="    position: absolute!important;\n";b+="    left: 20px!important;\n";b+="    width: 250px!important;\n";b+="    bottom: 260px;\n";b+="    height: 74px!important;\n";b+="    color: #000!important;\n";b+="    resize: none!important;\n";b+="    /* background-image: none!important; */\n";b+="    background-color: %(color_background_inputs)s!important;\n";b+="    opacity: %(color_opacity_inputs)s!important;\n";b+="    border-radius: 12px!important;\n";b+="    padding: 14px!important;\n";b+="}\n";b+="#cf_message_name_input {\n";b+="    position: absolute!important;\n";b+="    left: 20px!important;\n";b+="    width: 236px!important;\n";b+="    height: 36px!important;\n";b+="    bottom: 210px;\n";b+="    color: #000!important;\n";b+="    border-radius: 12px!important;\n";b+="    padding-left: 14px!important;\n";b+="}\n";b+="#cf_message_email_input {\n";b+="    position: absolute!important;\n";b+="    left: 20px!important;\n";b+="    width: 236px!important;\n";b+="    height: 38px!important;\n";b+="    bottom: 160px;\n";b+="    color: #000!important;\n";b+="    border-radius: 12px!important;\n";b+="    padding-left: 14px!important;\n";b+="}\n";b+="#cf_message_phone_input {\n";b+="    position: absolute!important;\n";b+="    left: 20px!important;\n";b+="    width: 236px!important;\n";b+="    height: 38px!important;\n";b+="    bottom: 110px;\n";b+="    color: #000!important;\n";b+="    border-radius: 12px!important;\n";b+="    padding-left: 14px!important;\n";b+="}\n";b+="#cf_message_send_button {\n";b+="    position: absolute!important;\n";b+="    left: 20px!important;\n";b+="    right: 20px!important;\n";b+="    height: 38px!important;\n";b+="    bottom: 60px!important;\n";b+="    text-align: center!important;\n";b+="    cursor: pointer!important;\n";b+="    color: %(color_font_global)s!important;\n";b+="    line-height: 38px!important;\n";b+="    /* background-image: none!important; */\n";b+="    background-color: #3BB767!important;\n";b+="    opacity: %(color_opacity_call_button)s!important;\n";b+="    border-radius: 19px!important;\n";b+="}\n";b+=".cf_message_go_back_link {\n";b+="    position: absolute!important;\n";b+="    text-align: center!important;\n";b+="    left: 0px!important;\n";b+="    right: 0px!important;\n";b+="    bottom: 26px!important;\n";b+="    height: 16px!important;\n";b+="    color: %(color_font_link)s!important;\n";b+="    /* color: %(color_font_global)s!important;\n";b+="    opacity: .7!important; */\n";b+="    white-space: nowrap!important;\n";b+="    font-size: 13px!important;\n";b+="}\n";b+="#cf_message_sent_content {\n";b+="    display: none;\n";b+="    height: %(param_message_sent_height)spx;\n";b+="    background-color: %(color_background_global)s!important;\n";b+="    opacity: %(color_opacity_global)s!important;\n";b+="}\n";b+="#cf_message_sent_custom_text {\n";b+="    top: 24px!important;\n";b+="    /* bottom: 52px!important; */\n";b+="}\n";b+="#cf_message_sent_custom_text_value {\n";b+="    font-size: 16px!important;\n";b+="    color: %(color_font_global)s!important;\n";b+="    text-align: left!important;\n";b+="    line-height: 16px!important;\n";b+="}\n";b+="#cf_order_content {\n";b+="    display: none;\n";b+="    height: %(param_order_height)spx;\n";b+="}\n";b+="#cf_order_call_button {\n";b+="    position: absolute!important;\n";b+="    right: 21px!important;\n";b+="    bottom: 88px!important;\n";b+="}\n";b+="#cf_order_call_panel {\n";b+="    bottom: 87px!important;\n";b+="}\n";b+="#cf_order_daytime_panel {\n";b+="    position: absolute!important;\n";b+="    left: 20px!important;\n";b+="    right: 20px!important;\n";b+="    bottom: 137px!important;\n";b+="    height: 38px!important;\n";b+="}\n";b+="#cf_order_custom_text {\n";b+="    top: 90px!important;\n";b+="    /* bottom: 185px!important; */\n";b+="}\n";b+="#cf_order_custom_text_value {\n";b+="    font-size: 16px!important;\n";b+="    color: %(color_font_global)s!important;\n";b+="    text-align: left!important;\n";b+="    line-height: 16px!important;\n";b+="}\n";b+=".cf_order_go_back_link {\n";b+="    position: absolute!important;\n";b+="    left: 0px!important;\n";b+="    right: 0px!important;\n";b+="    text-align: center!important;\n";b+="    bottom: 52px!important;\n";b+="    height: 16px!important;\n";b+="    color: %(color_font_link)s!important;\n";b+="    /* color: %(color_font_global)s!important;\n";b+="    opacity: .7!important; */\n";b+="    white-space: nowrap!important;\n";b+="    font-size: 13px!important;\n";b+="}\n";b+="#cf_order_sent_content {\n";b+="    display: none;\n";b+="    height: %(param_order_sent_height)spx;\n";b+="    background-color: %(color_background_global)s!important;\n";b+="    opacity: %(color_opacity_global)s!important;\n";b+="}\n";b+="#cf_order_sent_custom_text {\n";b+="    top: 90px!important;\n";b+="    /* bottom: 52px!important; */\n";b+="}\n";b+="#cf_order_sent_custom_text_value {\n";b+="    font-size: 16px!important;\n";b+="    color: %(color_font_global)s!important;\n";b+="    text-align: left!important;\n";b+="    line-height: 16px!important;\n";b+="}\n";b+=".cf__divimg { }\n";b+=".cf__divtext { }\n";b+=".cf__divpanel { }\n";b+=".cf__div0height {\n";b+="	height: 0px!important;\n";b+="}\n";b+=".cf__divhidden {\n";b+="	display: none!important;\n";b+="}\n";b+=".cf__divinput { }\n";b+=".cf__divlink {\n";b+="    cursor: pointer!important;\n";b+="}\n";b+=".cf__img { }\n";b+=".cf__u { text-decoration: underline!important; }\n";b+=".cf__span {\n";b+="    font-family: %(param_font1)s!important;\n";b+="    font-weight: 400!important;\n";b+="    font-style: normal!important;\n";b+="}\n";b+=".cf__p {\n";b+="    font-family: %(param_font1)s!important;\n";b+="    font-weight: 400!important;\n";b+="    font-style: normal!important;\n";b+="}\n";b+=".cf__disabled {\n";b+="    background-color: #aaa!important;\n";b+="    opacity: %(color_opacity_inputs)s!important;\n";b+="    color: #ccc!important;\n";b+="}\n";b+=".cf__valid {\n";b+="	border-color: %(color_background_inputs)s!important;\n";b+="    background-color: %(color_background_inputs)s!important;\n";b+="    opacity: %(color_opacity_inputs)s!important;\n";b+="}\n";b+=".cf__notvalid {\n";b+="    border: 1px solid #f00!important;\n";b+="    background-color: %(color_background_inputs)s!important;\n";b+="    /* background-color: #ecc!important; */\n";b+="    opacity: %(color_opacity_inputs)s!important;\n";b+="}\n";b+=".cf__input {\n";b+="    margin:0!important;\n";b+="    border: 1px solid %(color_background_inputs)s;\n";b+="    padding:0!important;\n";b+="    outline:0!important;\n";b+="    /* background-image: none!important; */\n";b+="    background: %(color_background_inputs)s;\n";b+="    background-color: %(color_background_inputs)s;\n";b+="    /* background: none!important; */\n";b+="    opacity: %(color_opacity_inputs)s!important;\n";b+="    -webkit-box-shadow: none!important;\n";b+="    -moz-box-shadow: none!important;\n";b+="    box-shadow:none!important;\n";b+="    display:inline-block;\n";b+="    vertical-align:middle!important;\n";b+="    white-space:normal!important;\n";b+="    color: #000!important;\n";b+="    line-height: 34px!important;\n";b+="    font-family: %(param_font1)s!important;\n";b+="    font-size: %(param_font_size_inputs)s!important;\n";b+="    -webkit-box-sizing:content-box!important;\n";b+="    -moz-box-sizing:content-box!important;\n";b+="    box-sizing:content-box!important;\n";b+="    -webkit-appearance: none!important;\n";b+="    -moz-appearance: none!important;\n";b+="    appearance: none!important;\n";b+="}\n";b+=".cf__input:focus, .cf__input:hover {\n";b+="	/* border: 0!important; */\n";b+="    border: 1px solid %(color_background_inputs)s;\n";b+="    outline:0!important;\n";b+="    -webkit-box-shadow: none!important;\n";b+="    -moz-box-shadow: none!important;\n";b+="    box-shadow:none!important;\n";b+="    background-color: %(color_background_inputs)s!important;\n";b+="    opacity: %(color_opacity_inputs)s!important;\n";b+="}\n";b+=".cf_call_panel input:-webkit-autofill {\n";b+="    -webkit-box-shadow: 0 0 0 1000px #ccc inset !important;\n";b+="    /* border: 0!important; */\n";b+="    /* border: 1px solid %(color_background_inputs)s; */\n";b+="}\n";b+=".cf_content input:-webkit-autofill {\n";b+="    -webkit-box-shadow: 0 0 0 1000px #ccc inset !important;\n";b+="    /* border: 0!important; */\n";b+="    border: 1px solid %(color_background_inputs)s;\n";b+="}\n";b+=".cf_call_panel input {\n";b+="    border: 0!important;\n";b+="    background: %(color_background_inputs)s;\n";b+="}\n";b+=".cf__select {\n";b+="    margin:0!important;\n";b+="    border: 0!important;\n";b+="    padding:0;\n";b+="    outline:0!important;\n";b+="    /* background-image: none!important; */\n";b+="    background: #F2F2F2 url(&quot;http://callfeed.net/static/img/widget/up_down_arrow.png&quot;) no-repeat right center ;\n";b+="    background-color: %(color_background_inputs)s!important;\n";b+="    opacity: %(color_opacity_inputs)s!important;\n";b+="    -webkit-box-shadow: none!important;\n";b+="    -moz-box-shadow: none!important;\n";b+="    box-shadow:none!important;\n";b+="    display:inline-block;\n";b+="    vertical-align:middle!important;\n";b+="    white-space:normal!important;\n";b+="    font-family:%(param_font1)s!important;\n";b+="    font-size: %(param_font_size_inputs)s!important;\n";b+="    -webkit-box-sizing:border-box!important;\n";b+="    -moz-box-sizing:border-box!important;\n";b+="    box-sizing:border-box!important;\n";b+="    cursor: pointer!important;\n";b+="    -webkit-appearance: none!important;\n";b+="    -moz-appearance: none!important;\n";b+="    appearance: none!important;\n";b+="}\n";b+=".cf__select:focus, .cf__select:hover {\n";b+="    outline:0!important;\n";b+="    -webkit-box-shadow: none!important;\n";b+="    -moz-box-shadow: none!important;\n";b+="    box-shadow:none!important;\n";b+="    border-color:transparent!important;\n";b+="}\n";b+=".cf__select [disabled] {\n";b+="    background-color: %(color_background_inputs)s!important;\n";b+="    opacity: %(color_opacity_inputs)s!important;\n";b+="    color: #ccc!important;\n";b+="}\n";b+=".cf__select [multiple] {\n";b+="    vertical-align:middle!important;\n";b+="}\n";b+=".cf__textarea {\n";b+="    margin:0!important;\n";b+="    padding:0;\n";b+="    border: 0!important;\n";b+="    outline:0!important;\n";b+="    overflow: auto!important;\n";b+="    line-height: 1!important;\n";b+="    font-family: %(param_font1)s!important;\n";b+="    font-size: %(param_font_size_inputs)s!important;\n";b+="    -webkit-box-shadow: none!important;\n";b+="    -moz-box-shadow: none!important;\n";b+="    box-shadow: none!important;\n";b+="    -moz-box-sizing:border-box!important;\n";b+="    -webkit-box-sizing:border-box!important;\n";b+="    box-sizing:border-box!important;\n";b+="    -webkit-appearance: none!important;\n";b+="    -moz-appearance: none!important;\n";b+="    appearance: none!important;\n";b+="}\n";b+="&lt;/style&gt;\n";for(var c in a)if(a.hasOwnProperty(c))if((c.indexOf("flag_")==0)||(c.indexOf("text_")==0)||(c.indexOf("param_")==0)||(c.indexOf("color_")==0))b=b.replace(new RegExp("%\\("+c+"\\)s","g"),a[c]);return b;}function f(a){var b="";b+="&lt;div id=&quot;callfeed_root&quot; style=&quot;z-index:%(param_z_index_global)s;&quot;&gt;\n";b+="  &lt;div id=&quot;cf_main_button&quot;&gt;\n";b+="    &lt;div id=&quot;cf_main_button_content&quot;&gt;\n";b+="      &lt;span id=&quot;cf_main_button_label&quot; class=&quot;cf__span&quot;&gt;%(text_button)s&lt;/span&gt;\n";b+="    &lt;/div&gt;\n";b+="  &lt;/div&gt;\n";b+="  &lt;div id=&quot;cf_widget&quot;&gt;\n";b+="    &lt;div id=&quot;cf_widget_triangle_img&quot;&gt;&lt;/div&gt;\n";b+="    &lt;div id=&quot;cf_main_content&quot; class=&quot;cf_content cf__divpanel&quot;&gt;\n";b+="     &lt;div id=&quot;cf_main_background&quot; class=&quot;cf_background cf__divpanel&quot;&gt;\n";b+="      &lt;div class=&quot;cf_close_button cf__divimg&quot;&gt;\n";b+="        &lt;img class=&quot;cf_close_button_img cf__img&quot; style=&quot;outline: medium none;&quot; tabindex=&quot;0&quot; src=&quot;http://callfeed.net/static/img/widget/u42.png&quot;&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div class=&quot;cf_manager_panel cf__divpanel&quot;&gt;\n";b+="        &lt;img class=&quot;cf_manager_face cf__img&quot; style=&quot;outline: medium none;&quot; tabindex=&quot;0&quot; src=&quot;http://callfeed.net/static/img/widget/transparent.gif&quot;&gt;\n";b+="        &lt;div class=&quot;cf_manager_name cf__divtext&quot;&gt;\n";b+="          &lt;span class=&quot;cf_manager_name_value cf__span&quot;&gt;&lt;/span&gt;\n";b+="        &lt;/div&gt;\n";b+="        &lt;div class=&quot;cf_manager_role cf__divtext&quot;&gt;\n";b+="          &lt;span class=&quot;cf_manager_role_value cf__span&quot;&gt;&lt;/span&gt;\n";b+="        &lt;/div&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div class=&quot;cf_time_select_link cf__divlink&quot;&gt;\n";b+="        &lt;span class=&quot;cf__span cf__u&quot;&gt;%(text_link_order)s&lt;/span&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div class=&quot;cf_send_message_link cf__divlink&quot;&gt;\n";b+="        &lt;span class=&quot;cf__span cf__u&quot;&gt;%(text_link_send_message)s&lt;/span&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div id=&quot;cf_main_call_panel&quot; class=&quot;cf_call_panel cf__divpanel cf__valid&quot;&gt;\n";b+="        &lt;input id=&quot;cf_main_call_input&quot; class=&quot;cf_call_input cf__input&quot; placeholder=&quot;Ваш номер телефона&quot; type=&quot;text&quot; pattern=&quot;[0-9]*&quot; /&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div id=&quot;cf_main_custom_text&quot; class=&quot;cf_custom_text cf__divtext&quot;&gt;\n";b+="        &lt;p id=&quot;cf_main_custom_text_value&quot; class=&quot;cf__p&quot;&gt;%(text_main)s&lt;/p&gt;\n";b+="      &lt;/div&gt;\n";b+="     &lt;/div&gt;\n";b+="     &lt;div id=&quot;cf_main_call_button&quot; class=&quot;cf_call_button cf__divimg&quot;&gt;\n";b+="       &lt;img id=&quot;cf_main_call_button_bg_img&quot; class=&quot;cf_call_button_bg_img cf__img&quot; style=&quot;outline: medium none;&quot; tabindex=&quot;0&quot; src=&quot;http://callfeed.net/static/img/widget/u38.png&quot;&gt;\n";b+="       &lt;img id=&quot;cf_main_call_button_phone_img&quot; class=&quot;cf_call_button_phone_img cf__img&quot; style=&quot;outline: medium none;&quot; tabindex=&quot;0&quot; src=&quot;http://callfeed.net/static/img/widget/u40.png&quot;&gt;\n";b+="     &lt;/div&gt;\n";b+="    &lt;/div&gt;\n";b+="    &lt;div id=&quot;cf_dial_content&quot; class=&quot;cf_content cf__divpanel&quot;&gt;\n";b+="      &lt;div class=&quot;cf_close_button cf__divimg&quot;&gt;\n";b+="        &lt;img class=&quot;cf_close_button_img cf__img&quot; style=&quot;outline: medium none;&quot; tabindex=&quot;0&quot; src=&quot;http://callfeed.net/static/img/widget/u42.png&quot;&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div class=&quot;cf_manager_panel cf__divpanel&quot;&gt;\n";b+="        &lt;img class=&quot;cf_manager_face cf__img&quot; style=&quot;outline: medium none;&quot; tabindex=&quot;0&quot; src=&quot;http://callfeed.net/static/img/widget/transparent.gif&quot;&gt;\n";b+="        &lt;div class=&quot;cf_manager_name cf__divtext&quot;&gt;\n";b+="          &lt;span class=&quot;cf_manager_name_value cf__span&quot;&gt;&lt;/span&gt;\n";b+="        &lt;/div&gt;\n";b+="        &lt;div class=&quot;cf_manager_role cf__divtext&quot;&gt;\n";b+="          &lt;span class=&quot;cf_manager_role_value cf__span&quot;&gt;&lt;/span&gt;\n";b+="        &lt;/div&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div class=&quot;cf_send_message_link cf__divlink&quot;&gt;\n";b+="        &lt;span class=&quot;cf__span cf__u&quot;&gt;%(text_link_send_message)s&lt;/span&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div id=&quot;cf_dial_custom_text&quot; class=&quot;cf_custom_text cf__divtext&quot;&gt;\n";b+="        &lt;p id=&quot;cf_dial_custom_text_value&quot; class=&quot;cf__p&quot;&gt;%(text_dial_ready)s&lt;/p&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div id=&quot;cf_dial_countdown_panel&quot; class=&quot;cf__divpanel&quot;&gt;\n";b+="        &lt;span id=&quot;cf_dial_countdown_text&quot; class=&quot;cf__span&quot;&gt;&lt;/span&gt;\n";b+="      &lt;/div&gt;\n";b+="    &lt;/div&gt;\n";b+="    &lt;div id=&quot;cf_free_content&quot; class=&quot;cf_content cf__divpanel&quot;&gt;\n";b+="     &lt;div id=&quot;cf_free_background&quot; class=&quot;cf_background cf__divpanel&quot;&gt;\n";b+="      &lt;div class=&quot;cf_close_button cf__divimg&quot;&gt;\n";b+="        &lt;img class=&quot;cf_close_button_img cf__img&quot; style=&quot;outline: medium none;&quot; tabindex=&quot;0&quot; src=&quot;http://callfeed.net/static/img/widget/u42.png&quot;&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div class=&quot;cf_manager_panel cf__divpanel&quot;&gt;\n";b+="        &lt;img class=&quot;cf_manager_face cf__img&quot; style=&quot;outline: medium none;&quot; tabindex=&quot;0&quot; src=&quot;http://callfeed.net/static/img/widget/transparent.gif&quot;&gt;\n";b+="        &lt;div class=&quot;cf_manager_name cf__divtext&quot;&gt;\n";b+="          &lt;span class=&quot;cf_manager_name_value cf__span&quot;&gt;&lt;/span&gt;\n";b+="        &lt;/div&gt;\n";b+="        &lt;div class=&quot;cf_manager_role cf__divtext&quot;&gt;\n";b+="          &lt;span class=&quot;cf_manager_role_value cf__span&quot;&gt;&lt;/span&gt;\n";b+="        &lt;/div&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div id=&quot;cf_free_custom_text&quot; class=&quot;cf_custom_text cf__divtext&quot;&gt;\n";b+="        &lt;p id=&quot;cf_free_custom_text_value&quot; class=&quot;cf__p&quot;&gt;%(text_order_start)s&lt;/p&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div id=&quot;cf_free_call_panel&quot; class=&quot;cf_call_panel cf__divpanel&quot;&gt;\n";b+="        &lt;input id=&quot;cf_free_call_input&quot; class=&quot;cf_call_input cf__input cf__valid&quot; value=&quot;&quot; placeholder=&quot;Ваш номер телефона&quot; maxlength=&quot;12&quot; type=&quot;tel&quot; /&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div id=&quot;cf_free_daytime_panel&quot; class=&quot;cf__divpanel&quot;&gt;\n";b+="        &lt;select id=&quot;cf_free_day_select&quot; class=&quot;cf_day_select cf__select&quot;&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='Сегодня'&gt;Сегодня&lt;/option&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='Завтра'&gt;Завтра&lt;/option&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='Послезавтра'&gt;Послезавтра&lt;/option&gt;\n";b+="        &lt;/select&gt;\n";b+="        &lt;p class=&quot;cf_daytime_at_text cf__p&quot;&gt;в&lt;/p&gt;\n";b+="        &lt;select id=&quot;cf_free_time_select&quot; class=&quot;cf_time_select cf__select&quot;&gt;\n";b+="        &lt;/select&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div class=&quot;cf_send_message_link cf__divlink&quot;&gt;\n";b+="        &lt;span class=&quot;cf__span cf__u&quot;&gt;%(text_link_send_message)s&lt;/span&gt;\n";b+="      &lt;/div&gt;\n";b+="     &lt;/div&gt;\n";b+="     &lt;div id=&quot;cf_free_call_button&quot; class=&quot;cf_call_button cf__divimg&quot;&gt;\n";b+="       &lt;img id=&quot;cf_free_call_button_bg_img&quot; class=&quot;cf_call_button_bg_img cf__img&quot; style=&quot;outline: medium none;&quot; tabindex=&quot;0&quot; src=&quot;http://callfeed.net/static/img/widget/u38.png&quot;&gt;\n";b+="       &lt;img id=&quot;cf_free_call_button_phone_img&quot; class=&quot;cf_call_button_phone_img cf__img&quot; style=&quot;outline: medium none;&quot; tabindex=&quot;0&quot; src=&quot;http://callfeed.net/static/img/widget/u40.png&quot;&gt;\n";b+="     &lt;/div&gt;\n";b+="    &lt;/div&gt;\n";b+="    &lt;div id=&quot;cf_free_sent_content&quot; class=&quot;cf_content cf__divpanel&quot;&gt;\n";b+="      &lt;div class=&quot;cf_close_button cf__divimg&quot;&gt;\n";b+="        &lt;img class=&quot;cf_close_button_img cf__img&quot; style=&quot;outline: medium none;&quot; tabindex=&quot;0&quot; src=&quot;http://callfeed.net/static/img/widget/u42.png&quot;&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div id=&quot;cf_free_sent_custom_text&quot; class=&quot;cf_custom_text cf__divtext&quot;&gt;\n";b+="        &lt;p id=&quot;cf_free_sent_custom_text_value&quot; class=&quot;cf_custom_text_value cf__p&quot;&gt;%(text_timeoff_done)s&lt;/p&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div class=&quot;cf_send_message_link cf__divlink&quot;&gt;\n";b+="        &lt;span class=&quot;cf__span cf__u&quot;&gt;%(text_link_send_message)s&lt;/span&gt;\n";b+="      &lt;/div&gt;\n";b+="    &lt;/div&gt;\n";b+="    &lt;div id=&quot;cf_timeoff_content&quot; class=&quot;cf_content cf__divpanel&quot;&gt;\n";b+="     &lt;div id=&quot;cf_timeoff_background&quot; class=&quot;cf_background cf__divpanel&quot;&gt;\n";b+="      &lt;div class=&quot;cf_close_button cf__divimg&quot;&gt;\n";b+="        &lt;img class=&quot;cf_close_button_img cf__img&quot; style=&quot;outline: medium none;&quot; tabindex=&quot;0&quot; src=&quot;http://callfeed.net/static/img/widget/u42.png&quot;&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div id=&quot;cf_timeoff_custom_text&quot; class=&quot;cf_custom_text cf__divtext&quot;&gt;\n";b+="        &lt;p id=&quot;cf_timeoff_custom_text_value&quot; class=&quot;cf__p&quot;&gt;%(text_timeoff_start)s&lt;/p&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div id=&quot;cf_timeoff_daytime_panel&quot; class=&quot;cf__divpanel&quot;&gt;\n";b+="        &lt;select id=&quot;cf_timeoff_day_select&quot; class=&quot;cf_day_select cf__select&quot;&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='Сегодня'&gt;Сегодня&lt;/option&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='Завтра'&gt;Завтра&lt;/option&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='Послезавтра'&gt;Послезавтра&lt;/option&gt;\n";b+="        &lt;/select&gt;\n";b+="        &lt;p class=&quot;cf_daytime_at_text cf__p&quot;&gt;в&lt;/p&gt;\n";b+="        &lt;select id=&quot;cf_timeoff_time_select&quot; class=&quot;cf_time_select cf__select&quot;&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='10:00'&gt;10:00&lt;/option&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='11:00'&gt;11:00&lt;/option&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='12:00'&gt;12:00&lt;/option&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='13:00'&gt;13:00&lt;/option&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='14:00'&gt;14:00&lt;/option&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='15:00'&gt;15:00&lt;/option&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='16:00'&gt;16:00&lt;/option&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='17:00'&gt;17:00&lt;/option&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='18:00'&gt;18:00&lt;/option&gt;\n";b+="        &lt;/select&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div id=&quot;cf_timeoff_call_panel&quot; class=&quot;cf_call_panel cf__divpanel&quot;&gt;\n";b+="        &lt;input id=&quot;cf_timeoff_call_input&quot; class=&quot;cf_call_input cf__input cf__valid&quot; value=&quot;&quot; placeholder=&quot;Ваш номер телефона&quot; maxlength=&quot;12&quot; type=&quot;tel&quot; /&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div class=&quot;cf_send_message_link cf__divlink&quot;&gt;\n";b+="        &lt;span class=&quot;cf__span cf__u&quot;&gt;%(text_link_send_message)s&lt;/span&gt;\n";b+="      &lt;/div&gt;\n";b+="     &lt;/div&gt;\n";b+="     &lt;div id=&quot;cf_timeoff_call_button&quot; class=&quot;cf_call_button cf__divimg&quot;&gt;\n";b+="       &lt;img id=&quot;cf_timeoff_call_button_bg_img&quot; class=&quot;cf_call_button_bg_img cf__img&quot; style=&quot;outline: medium none;&quot; tabindex=&quot;0&quot; src=&quot;http://callfeed.net/static/img/widget/u38.png&quot;&gt;\n";b+="       &lt;img id=&quot;cf_timeoff_call_button_phone_img&quot; class=&quot;cf_call_button_phone_img cf__img&quot; style=&quot;outline: medium none;&quot; tabindex=&quot;0&quot; src=&quot;http://callfeed.net/static/img/widget/u40.png&quot;&gt;\n";b+="     &lt;/div&gt;\n";b+="    &lt;/div&gt;\n";b+="    &lt;div id=&quot;cf_timeoff_sent_content&quot; class=&quot;cf_content cf__divpanel&quot;&gt;\n";b+="      &lt;div class=&quot;cf_close_button cf__divimg&quot;&gt;\n";b+="        &lt;img class=&quot;cf_close_button_img cf__img&quot; style=&quot;outline: medium none;&quot; tabindex=&quot;0&quot; src=&quot;http://callfeed.net/static/img/widget/u42.png&quot;&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div id=&quot;cf_timeoff_sent_custom_text&quot; class=&quot;cf_custom_text cf__divtext&quot;&gt;\n";b+="        &lt;p id=&quot;cf_timeoff_sent_custom_text_value&quot; class=&quot;cf_custom_text_value cf__p&quot;&gt;%(text_timeoff_done)s&lt;/p&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div class=&quot;cf_send_message_link cf__divlink&quot;&gt;\n";b+="        &lt;span class=&quot;cf__span cf__u&quot;&gt;%(text_link_send_message)s&lt;/span&gt;\n";b+="      &lt;/div&gt;\n";b+="    &lt;/div&gt;\n";b+="    &lt;div id=&quot;cf_message_content&quot; class=&quot;cf_content cf__divpanel&quot;&gt;\n";b+="     &lt;div id=&quot;cf_message_background&quot; class=&quot;cf_background cf__divpanel&quot;&gt;\n";b+="      &lt;div class=&quot;cf_close_button cf__divimg&quot;&gt;\n";b+="        &lt;img class=&quot;cf_close_button_img cf__img&quot; style=&quot;outline: medium none;&quot; tabindex=&quot;0&quot; src=&quot;http://callfeed.net/static/img/widget/u42.png&quot;&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div id=&quot;cf_message_custom_text&quot; class=&quot;cf_custom_text cf__divtext&quot;&gt;\n";b+="        &lt;p id=&quot;cf_message_custom_text_value&quot; class=&quot;cf__p&quot;&gt;%(text_message_start)s&lt;/p&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;textarea id=&quot;cf_message_message_textarea&quot; class=&quot;cf__textarea&quot; placeholder=&quot;Напишите ваш вопрос&quot; &gt;&lt;/textarea&gt;\n";b+="      &lt;input id=&quot;cf_message_name_input&quot; class=&quot;cf__input cf__valid&quot; value=&quot;&quot; placeholder=&quot;Ваше имя&quot; type=&quot;text&quot; /&gt;\n";b+="      &lt;input id=&quot;cf_message_email_input&quot; class=&quot;cf__input cf__valid&quot; value=&quot;&quot; placeholder=&quot;E-mail&quot; type=&quot;email&quot; /&gt;\n";b+="      &lt;input id=&quot;cf_message_phone_input&quot; class=&quot;cf__input cf__valid&quot; value=&quot;&quot; placeholder=&quot;Телефон&quot; type=&quot;tel&quot; /&gt;\n";b+="      &lt;div class=&quot;cf_message_go_back_link cf__divlink&quot;&gt;\n";b+="        &lt;span class=&quot;cf__span cf__u&quot;&gt;%(text_link_message_go_back)s&lt;/span&gt;\n";b+="      &lt;/div&gt;\n";b+="     &lt;/div&gt;\n";b+="     &lt;div id=&quot;cf_message_send_button&quot; class=&quot;cf_button&quot;&gt;\n";b+="       &lt;span class=&quot;cf__span&quot;&gt;Отправить&lt;/span&gt;\n";b+="     &lt;/div&gt;\n";b+="    &lt;/div&gt;\n";b+="    &lt;div id=&quot;cf_message_sent_content&quot; class=&quot;cf_content cf__divpanel&quot;&gt;\n";b+="      &lt;div class=&quot;cf_close_button cf__divimg&quot;&gt;\n";b+="        &lt;img class=&quot;cf_close_button_img cf__img&quot; style=&quot;outline: medium none;&quot; tabindex=&quot;0&quot; src=&quot;http://callfeed.net/static/img/widget/u42.png&quot;&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div id=&quot;cf_message_sent_custom_text&quot; class=&quot;cf_custom_text cf__divtext&quot;&gt;\n";b+="        &lt;p id=&quot;cf_message_sent_custom_text_value&quot; class=&quot;cf__p&quot;&gt;%(text_message_sent)s&lt;/p&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div class=&quot;cf_message_go_back_link cf__divlink&quot;&gt;\n";b+="        &lt;span class=&quot;cf__span cf__u&quot;&gt;%(text_link_message_go_back)s&lt;/span&gt;\n";b+="      &lt;/div&gt;\n";b+="    &lt;/div&gt;\n";b+="    &lt;div id=&quot;cf_order_content&quot; class=&quot;cf_content cf__divpanel&quot;&gt;\n";b+="     &lt;div id=&quot;cf_order_background&quot; class=&quot;cf_background cf__divpanel&quot;&gt;\n";b+="      &lt;div class=&quot;cf_close_button cf__divimg&quot;&gt;\n";b+="        &lt;img class=&quot;cf_close_button_img cf__img&quot; style=&quot;outline: medium none;&quot; tabindex=&quot;0&quot; src=&quot;http://callfeed.net/static/img/widget/u42.png&quot;&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div class=&quot;cf_manager_panel cf__divpanel&quot;&gt;\n";b+="        &lt;img class=&quot;cf_manager_face cf__img&quot; style=&quot;outline: medium none;&quot; tabindex=&quot;0&quot; src=&quot;http://callfeed.net/static/img/widget/transparent.gif&quot;&gt;\n";b+="        &lt;div class=&quot;cf_manager_name cf__divtext&quot;&gt;\n";b+="          &lt;span class=&quot;cf_manager_name_value cf__span&quot;&gt;&lt;/span&gt;\n";b+="        &lt;/div&gt;\n";b+="        &lt;div class=&quot;cf_manager_role cf__divtext&quot;&gt;\n";b+="          &lt;span class=&quot;cf_manager_role_value cf__span&quot;&gt;&lt;/span&gt;\n";b+="        &lt;/div&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div id=&quot;cf_order_custom_text&quot; class=&quot;cf_custom_text cf__divtext&quot;&gt;\n";b+="        &lt;p id=&quot;cf_order_custom_text_value&quot; class=&quot;cf_custom_text_value cf__p&quot;&gt;%(text_order_start)s&lt;/p&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div id=&quot;cf_order_call_panel&quot; class=&quot;cf_call_panel cf__divpanel&quot;&gt;\n";b+="        &lt;input id=&quot;cf_order_call_input&quot; class=&quot;cf_call_input cf__input cf__valid&quot; value=&quot;&quot; placeholder=&quot;Ваш номер телефона&quot; maxlength=&quot;12&quot; type=&quot;tel&quot; /&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div id=&quot;cf_order_daytime_panel&quot; class=&quot;cf__divpanel&quot;&gt;\n";b+="        &lt;select id=&quot;cf_order_day_select&quot; class=&quot;cf_day_select cf__select&quot;&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='Сегодня'&gt;Сегодня&lt;/option&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='Завтра'&gt;Завтра&lt;/option&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='Послезавтра'&gt;Послезавтра&lt;/option&gt;\n";b+="        &lt;/select&gt;\n";b+="        &lt;p class=&quot;cf_daytime_at_text cf__p&quot;&gt;в&lt;/p&gt;\n";b+="        &lt;select id=&quot;cf_order_time_select&quot; class=&quot;cf_time_select cf__select&quot;&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='10:00'&gt;10:00&lt;/option&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='11:00'&gt;11:00&lt;/option&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='12:00'&gt;12:00&lt;/option&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='13:00'&gt;13:00&lt;/option&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='14:00'&gt;14:00&lt;/option&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='15:00'&gt;15:00&lt;/option&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='16:00'&gt;16:00&lt;/option&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='17:00'&gt;17:00&lt;/option&gt;\n";b+="          &lt;option class=&quot;cf__option&quot; value='18:00'&gt;18:00&lt;/option&gt;\n";b+="        &lt;/select&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div class=&quot;cf_send_message_link cf__divlink&quot;&gt;\n";b+="        &lt;span class=&quot;cf__span cf__u&quot;&gt;%(text_link_send_message)s&lt;/span&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div class=&quot;cf_order_go_back_link cf__divlink&quot;&gt;\n";b+="        &lt;span class=&quot;cf__span cf__u&quot;&gt;%(text_link_go_back)s&lt;/span&gt;\n";b+="      &lt;/div&gt;\n";b+="     &lt;/div&gt;\n";b+="     &lt;div id=&quot;cf_order_call_button&quot; class=&quot;cf_call_button cf__divimg&quot;&gt;\n";b+="       &lt;img id=&quot;cf_order_call_button_bg_img&quot; class=&quot;cf_call_button_bg_img cf__img&quot; style=&quot;outline: medium none;&quot; tabindex=&quot;0&quot; src=&quot;http://callfeed.net/static/img/widget/u38.png&quot;&gt;\n";b+="       &lt;img id=&quot;cf_order_call_button_phone_img&quot; class=&quot;cf_call_button_phone_img cf__img&quot; style=&quot;outline: medium none;&quot; tabindex=&quot;0&quot; src=&quot;http://callfeed.net/static/img/widget/u40.png&quot;&gt;\n";b+="     &lt;/div&gt;\n";b+="    &lt;/div&gt;\n";b+="    &lt;div id=&quot;cf_order_sent_content&quot; class=&quot;cf_content cf__divpanel&quot;&gt;\n";b+="      &lt;div class=&quot;cf_close_button cf__divimg&quot;&gt;\n";b+="        &lt;img class=&quot;cf_close_button_img cf__img&quot; style=&quot;outline: medium none;&quot; tabindex=&quot;0&quot; src=&quot;http://callfeed.net/static/img/widget/u42.png&quot;&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div class=&quot;cf_manager_panel cf__divpanel&quot;&gt;\n";b+="        &lt;img class=&quot;cf_manager_face cf__img&quot; style=&quot;outline: medium none;&quot; tabindex=&quot;0&quot; src=&quot;http://callfeed.net/static/img/widget/transparent.gif&quot;&gt;\n";b+="        &lt;div class=&quot;cf_manager_name cf__divtext&quot;&gt;\n";b+="          &lt;span class=&quot;cf_manager_name_value cf__span&quot;&gt;&lt;/span&gt;\n";b+="        &lt;/div&gt;\n";b+="        &lt;div class=&quot;cf_manager_role cf__divtext&quot;&gt;\n";b+="          &lt;span class=&quot;cf_manager_role_value cf__span&quot;&gt;&lt;/span&gt;\n";b+="        &lt;/div&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div id=&quot;cf_order_sent_custom_text&quot; class=&quot;cf_custom_text cf__divtext&quot;&gt;\n";b+="        &lt;p id=&quot;cf_order_sent_custom_text_value&quot; class=&quot;cf_custom_text_value cf__p&quot;&gt;%(text_order_done)s&lt;/p&gt;\n";b+="      &lt;/div&gt;\n";b+="      &lt;div class=&quot;cf_send_message_link cf__divlink&quot;&gt;\n";b+="        &lt;span class=&quot;cf__span cf__u&quot;&gt;%(text_link_send_message)s&lt;/span&gt;\n";b+="      &lt;/div&gt;\n";b+="    &lt;/div&gt;\n";b+="    &lt;div id=&quot;cf_copyright_link&quot; class=&quot;cf__divlink&quot;&gt;\n";b+="      &lt;a id=&quot;cf_copyright_link_content&quot; class=&quot;cf__link&quot; href=&quot;http://callfeed.net&quot; target=_blank&gt;callfeed.net&lt;/a&gt;\n";b+="    &lt;/div&gt;\n";b+="  &lt;/div&gt;\n";b+="&lt;/div&gt;\n";for(var c in a)if(a.hasOwnProperty(c))if((c.indexOf("flag_")==0)||(c.indexOf("text_")==0)||(c.indexOf("param_")==0)||(c.indexOf("color_")==0))b=b.replace(new RegExp("%\\("+c+"\\)s","g"),a[c]);return b;}function g(a,b){if(b==undefined)b='cf.min.js';var c="";c+='&lt;script type=&quot;text/javascript&quot;&gt;';c+='var CallFeedToken=&quot;'+a+'&quot;;';c+='&lt;/script&gt;\n';c+='&lt;script type=&quot;text/javascript&quot; ';c+='charset=&quot;UTF-8&quot; ';c+='src=&quot;http://callfeed.net/static/'+b+'&quot;';c+='&gt;';c+='&lt;/script&gt;\n';return c;}function h(a){var b="";b+="&lt;style type=&quot;text/css&quot;&gt;\n";if(a.font_url1){b+='@font-face {\n';b+='font-family: "'+a.font_family1+'";\n';b+='src:  url("'+a.font_url1+'");\n';b+='font-weight: normal;\n';b+='font-style: normal;\n';b+='}\n';}b+="&lt;/style&gt;\n";b+='&lt;div class="callfeed_preload" style="opacity: 0;"&gt;\n';if(a.font_family1)b+='&lt;span style="font-family: '+a.font_family1+';"&gt;&lt;/span&gt;\n';b+='&lt;/div&gt;\n';return b;}function i(a,b){var c=b;var i=d(a);if(!c)c=i;else{for(var j in i)if(i.hasOwnProperty(j)&&!c.hasOwnProperty(j))c[j]=i[j];for(var k in i.controllers)if(i.controllers.hasOwnProperty(k)&&!c.controllers.hasOwnProperty(k))c.controllers[j]=i.controllers[j];}var l=h(c);var m=g(a,'cf.devel.js');var n=f(c);var o=e(c);debug.log('CallFeedGenerateSources',[l,n,o,m,c]);return [l,n,o,m,c];}if(typeof String.prototype.trimLeft!=='function')String.prototype.trimLeft=function(a){if(a===undefined)a="\s";return this.replace(new RegExp("^["+a+"]+"),"");};if(typeof String.prototype.trimRight!=='function')String.prototype.trimRight=function(a){if(a===undefined)a="\s";return this.replace(new RegExp("["+a+"]+$"),"");};if(typeof String.prototype.trim!=='function')String.prototype.trim=function(a){return this.trimLeft(a).trimRight(a);};if(typeof String.prototype.endsWith!=='function')String.prototype.endsWith=function(a){return this.indexOf(a,this.length-a.length)!==-1;};function j(a){if(!a)return false;var b=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);return b.test(a);}function k(a){if(!a)return false;var b=new RegExp(/^((\+[1-9]{1,4}[ \-]*)|(\([0-9]{2,3}\)[ \-]*)|([0-9]{2,4})[ \-]*)*?[0-9]{3,4}?[ \-]*[0-9]{3,4}?$/);return b.test(a);}function l(){var c=a.navigator&&a.navigator.msPointerEnabled&&a.MSGesture;var d=(("ontouchstart" in a)||c||a.DocumentTouch&&b instanceof DocumentTouch);debug.log('isTouchDevice() result:',a,b,c,d);return d;}function m(){return ['Понедельник','Вторник','Среда','Четверг','Пятница','Суббота','Воскресенье'];}function n(){return{'Понедельник':1,'Вторник':2,'Среда':3,'Четверг':4,'Пятница':5,'Суббота':6,'Воскресенье':7};}function o(a){var b=n()[a];if(b)return b;var c=new Date();var d=c.getDay();if(d==0)d=7;if(a=='Сегодня')b=d;else if(a=='Завтра')b=d+1;else if(a=='Послезавтра')b=d+2;if(b>7)b-=7;return b;}function p(a){var b=new Date();var c=b.getDay();if(c==0)c=7;var d=n()[a];var e=0;if(d){e=d-c;if(e<0)e+=7;}else if(a=='Сегодня')e=0;else if(a=='Завтра')e=1;else if(a=='Послезавтра')e=2;return e;}function q(){}q.prototype.construct=function(){};q.extend=function(a){var b=function(){if(arguments[0]!==q)this.construct.apply(this,arguments);};var c=new this(q);var d=this.prototype;for(var e in a){var f=a[e];if(f instanceof Function)f.$=d;c[e]=f;}b.prototype=c;b.extend=this.extend;return b;};var r=q.extend({state:null,debug:true,log_events:true,name:null,construct:function(a){this.state=a;this.name="undefined";this.init();if(this.debug)debug.log('CREATED AUTOMAT '+this.name);},A:function(a,b){},init:function(){},state_changed:function(a,b,c,d){},event:function(a,b){if(this.debug&&this.log_events)debug.log(this.name+'('+this.state+') fired with \''+a+'\'');var c=this.state;this.A(a,b);if(c!=this.state)if(this.debug)debug.log(this.name+' : '+c+' -> '+this.state);this.state_changed(c,this.state,a,b);}});var s=r.extend({construct:function(a){this.state=a;this.name="widget_session";debug.log('CREATED AUTOMAT '+this.name);},kill:function(){debug.log('DESTROY AUTOMAT '+this.name);},state_changed:function(a,b,c,d){},A:function(a,b){switch(this.state){case 'COOKIE?':{if(a==='off'){this.state='CLOSED';this.doCookieDelete(a,b);this.doDestroyMe(a,b);}else if(a==='cookie-exist-free'){this.state='FREE';this.doInit(a,b);this.doStartFreeVersion(a,b);}else if(a==='cookie-not-exist'){this.state='CONNECTING?';this.doConnect(a,b);}else if(a==='cookie-exist-paid'){this.state='PAID';this.doInit(a,b);this.doStartPaidVersion(a,b);}break;}case 'CONNECTING?':{if(a==='fail'||a==='off'){this.state='CLOSED';this.doCookieDelete(a,b);this.doDestroyMe(a,b);}else if(a==='connected'&&this.isServicePaid(a,b)){this.state='PAID';this.doCookieSave(a,b);this.doInit(a,b);this.doStartPaidVersion(a,b);}else if(a==='connected'&&!this.isServicePaid(a,b)){this.state='FREE';this.doCookieSave(a,b);this.doInit(a,b);this.doStartFreeVersion(a,b);}break;}case 'PAID':{if(a==='not-paid'){this.state='FREE';this.doSetNotPaid(a,b);this.doCookieSave(a,b);this.doKillPaidVersion(a,b);this.doStartFreeVersion(a,b);this.doShowWidget(a,b);}break;}case 'FREE':break;case 'AT_STARTUP':{if(a==='init'){this.state='COOKIE?';this.doSessionInit(a,b);this.doReadCookie(a,b);}break;}case 'CLOSED':break;}},isServicePaid:function(a,b){debug.log(this.name+".isServicePaid('"+a+"', "+b+")",CallFeedOptions);try{return CallFeedOptions.mode=='paid';}catch(c){return false;}},doSessionInit:function(c,d){debug.log(this.name+".doSessionInit('"+c+"', "+d+")","REFERRER:",b.referrer);this.referrer=b.referrer;this.hostname=a.location.hostname;},doReadCookie:function(a,b){$.cookie.json=true;var c=$.cookie('callfeed_activated_'+CallFeedToken);debug.log(this.name+".doReadCookie('"+a+"', "+b+")",c);if(CallFeedDebug){debug.log('SKIP COOKIE IN DEBUG VERSION');CallFeedOptions=null;this.event('cookie-not-exist');return;}if(c==undefined){CallFeedOptions=null;this.event('cookie-not-exist');return;}var d=simpleStorage.get('callfeed_'+CallFeedToken);if(!d||d.length==0){CallFeedOptions=null;this.event('cookie-not-exist');return;}try{if(!(d.position&&d.mode&&d.controllers)){CallFeedOptions=null;this.event('cookie-not-exist');return;}CallFeedOptions=d;if(CallFeedOptions.flag_disable_on_mobiles&&l()){CallFeedOptions=null;this.event('off');return;}if(CallFeedOptions.mode=='paid'){this.event('cookie-exist-paid');return;}else{this.event('cookie-exist-free');return;}}catch(e){CallFeedOptions=null;this.event('off');return;}},doCookieSave:function(a,b){debug.log(this.name+".doCookieSave('"+a+"', "+b+")");debug.log('SAVE SETTINGS!',CallFeedOptions);simpleStorage.set('callfeed_'+CallFeedToken,CallFeedOptions);},doCookieDelete:function(a,b){debug.log(this.name+".doCookieDelete('"+a+"', "+b+")");debug.log('DELETE SETTINGS!');simpleStorage.flush();},doInit:function(a,b){sources=i(CallFeedToken,CallFeedOptions);CallFeedOptions=sources[4];debug.log(this.name+".doInit('"+a+"', "+b+")",CallFeedOptions);$('body').append($(sources[0].replace(/&lt;/g,'<').replace(/&gt;/g,'>').replace(/&quot;/g,'"')));$('body').append($(sources[1].replace(/&lt;/g,'<').replace(/&gt;/g,'>').replace(/&quot;/g,'"')));$('body').append($(sources[2].replace(/&lt;/g,'<').replace(/&gt;/g,'>').replace(/&quot;/g,'"')));debug.log('INIT!',CallFeedOptions);},doInitDefaults:function(a,b){sources=i(CallFeedToken,null);CallFeedOptions=sources[4];debug.log(this.name+".doInitDefaults('"+a+"', "+b+")",CallFeedOptions);$('body').append($(sources[0].replace(/&lt;/g,'<').replace(/&gt;/g,'>').replace(/&quot;/g,'"')));$('body').append($(sources[1].replace(/&lt;/g,'<').replace(/&gt;/g,'>').replace(/&quot;/g,'"')));$('body').append($(sources[2].replace(/&lt;/g,'<').replace(/&gt;/g,'>').replace(/&quot;/g,'"')));debug.log('INIT DEFAULTS!',CallFeedOptions);},doConnect:function(a,b){debug.log(this.name+".doConnect('"+a+"', "+b+"): ",encodeURIComponent(this.hostname));jsonp_request('http://callfeed.net/input?'+$.param({'request_options':'1','token':CallFeedToken,'hostname':encodeURIComponent(this.hostname)}),function(a){debug.log("doConnect.success",a);var b="error";var c="";var d=null;var e=null;try{b=a.response;c=a.message;}catch(f){debug.log("doConnect.success EXCEPTION",f);CallFeedSession.event('fail');return;}if(b!='ok'){debug.log("doConnect.success response is not OK: ",c);CallFeedSession.event('fail');return;}try{d=a.options;e=a.mode;d.managers=a.managers;d.schedule=a.schedule;if(d.color_font_global&&d.color_font_global.toLowerCase()!='#fff'&&d.color_font_global.toLowerCase()!='#ffffff')d.color_font_link='#666';}catch(f){debug.log("doConnect.success EXCEPTION while parsing response",f);CallFeedSession.event('fail');return;}if(b=='ok'&&d&&e&&d.managers){if(d.flag_disable_on_mobiles&&l()){CallFeedSession.event('off');return;}if(e=='off'){debug.log('This widget IS NOT ACTIVE at the moment');CallFeedSession.event('off');}else{CallFeedOptions=d;CallFeedOptions.mode=e;debug.log('SETTINGS DOWNLOADED!',CallFeedOptions);CallFeedSession.event('connected');}}else{debug.log('FAILED',b,d);CallFeedSession.event('fail');}},function(a){debug.log("doConnect.fail",a);CallFeedSession.event('fail');});},doStartPaidVersion:function(a,b){debug.log(this.name+".doStartPaidVersion('"+a+"', "+b+")");CallFeedWidget=new t("AT_STARTUP",this);CallFeedWidget.event("init");},doStartFreeVersion:function(a,b){debug.log(this.name+".doStartFreeVersion('"+a+"', "+b+")");CallFeedWidget=new t("AT_STARTUP",this);CallFeedWidget.event("init");},doKillPaidVersion:function(a,b){debug.log(this.name+".doKillPaidVersion('"+a+"', "+b+")");CallFeedWidget.kill();CallFeedWidget=null;delete CallFeedWidget;},doShowWidget:function(a,b){debug.log(this.name+".doShowWidget('"+a+"', "+b+")");CallFeedWidget.event('show');},doSetNotPaid:function(a,b){debug.log(this.name+".doSetNotPaid('"+a+"', "+b+")");CallFeedOptions.mode='free';},doDestroyMe:function(a,b){debug.log(this.name+".doDestroyMe('"+a+"', "+b+")");CallFeedSession.kill();CallFeedSession=null;CallFeedOptions=null;}});var t=r.extend({construct:function(a,b){this.state=a;this.name="widget_controller";this.parent=b;this.controllers={};this.visualizer=null;this.dialer=null;this.callorder=null;this.timeofforder=null;this.messanger=null;this.freecaller=null;debug.log('CREATED AUTOMAT '+this.name);},kill:function(){debug.log('DESTROY AUTOMAT '+this.name);this.parent=null;delete this.parent;for(var a in this.controllers){this.controllers[a].kill();this.controllers[a]=null;delete this.controllers[a];}this.controllers=null;delete this.controllers;this.dialer.kill();this.dialer=null;delete this.dialer;this.callorder.kill();this.callorder=null;delete this.callorder;this.timeofforder.kill();this.timeofforder=null;delete this.timeofforder;this.messanger.kill();this.messanger=null;delete this.messanger;this.freecaller.kill();this.freecaller=null;delete this.freecaller;this.visualizer.kill();this.visualizer=null;delete this.visualizer;},state_changed:function(a,b,c,d){},A:function(a,b){switch(this.state){case 'HIDDEN':{if((a==='button'||a==='popup')&&!this.isPaid(a,b)&&!this.isDialing(a,b)){this.state='FREE_PAGE';this.doStopFreeCaller(a,b);this.doShowFreePage(a,b);this.doHideFreeSentPage(a,b);this.doShowWidget(a,b);this.doSetCookie(a,b);}else if((a==='button'||a==='popup')&&!this.isDialing(a,b)&&this.isTimeON(a,b)&&this.isPaid(a,b)){this.state='MAIN_PAGE';this.doShowMainPage(a,b);this.doShowWidget(a,b);this.doSetCookie(a,b);}else if((a==='button'||a==='popup')&&this.isDialing(a,b)){this.state='DIAL_PAGE';this.doShowDialPage(a,b);this.doShowWidget(a,b);this.doSetCookie(a,b);}else if((a==='button'||a==='popup')&&!this.isTimeON(a,b)&&this.isPaid(a,b)&&!this.isDialing(a,b)){this.state='TIMEOFF_PAGE';this.doStopTimeOFFOrder(a,b);this.doShowTimeOFFPage(a,b);this.doHideTimeOFFSentPage(a,b);this.doShowWidget(a,b);this.doSetCookie(a,b);}break;}case 'ORDER_PAGE':{if(a==='order-sent'||a==='order-failed'){this.doShowOrderSentPage(a,b);this.doHideOrderPage(a,b);}else if(a==='back-clicked'){this.state='MAIN_PAGE';this.doShowMainPage(a,b);this.doHideOrderPage(a,b);this.doHideOrderSentPage(a,b);}else if(a==='close'||a==='button'){this.state='HIDDEN';this.doHideWidget(a,b);this.doHideOrderPage(a,b);this.doHideOrderSentPage(a,b);}else if(a==='send-message-clicked'){this.state='MESSAGE_PAGE';this.doStopMessanger(a,b);this.doShowMessagePage(a,b);this.doHideMessageSentPage(a,b);this.doHideOrderPage(a,b);this.doHideOrderSentPage(a,b);}break;}case 'MESSAGE_PAGE':{if(a==='message-sent'||a==='message-failed'){this.doShowMessageSentPage(a,b);this.doHideMessagePage(a,b);}else if(a==='call-now-clicked'&&!this.isPaid(a,b)){this.state='FREE_PAGE';this.doStopFreeCaller(a,b);this.doShowFreePage(a,b);this.doHideFreeSentPage(a,b);this.doHideMessagePage(a,b);this.doHideMessageSentPage(a,b);}else if(a==='call-now-clicked'&&!this.isTimeON(a,b)&&this.isPaid(a,b)){this.state='TIMEOFF_PAGE';this.doStopTimeOFFOrder(a,b);this.doShowTimeOFFPage(a,b);this.doHideMessagePage(a,b);this.doHideMessageSentPage(a,b);}else if(a==='close'||a==='button'){this.state='HIDDEN';this.doHideWidget(a,b);this.doHideMessagePage(a,b);this.doHideMessageSentPage(a,b);}else if(a==='call-now-clicked'&&this.isTimeON(a,b)&&this.isPaid(a,b)){this.state='MAIN_PAGE';this.doShowMainPage(a,b);this.doHideMessagePage(a,b);this.doHideMessageSentPage(a,b);}break;}case 'AT_STARTUP':{if(a==='init'){this.state='LOADING';this.doInit(a,b);}break;}case 'LOADING':{if(a==='all-done')this.state='HIDDEN';break;}case 'MAIN_PAGE':{if(a==='call-later-clicked'){this.state='ORDER_PAGE';this.doStopCallOrder(a,b);this.doShowOrderPage(a,b);this.doHideOrderSentPage(a,b);this.doHideMainPage(a,b);}else if(a==='send-message-clicked'){this.state='MESSAGE_PAGE';this.doStopMessanger(a,b);this.doShowMessagePage(a,b);this.doHideMessageSentPage(a,b);this.doHideMainPage(a,b);}else if(a==='close'||a==='button'){this.state='HIDDEN';this.doHideWidget(a,b);this.doHideMainPage(a,b);}else if(a==='call-button-clicked'){this.state='DIAL_PAGE';this.doStopDialer(a,b);this.doStartDialer(a,b);this.doShowDialPage(a,b);this.doHideMainPage(a,b);}break;}case 'DIAL_PAGE':{if(a==='close'||a==='button'){this.state='HIDDEN';this.doHideWidget(a,b);this.doHideDialPage(a,b);}else if(a==='send-message-clicked'){this.state='MESSAGE_PAGE';this.doStopMessanger(a,b);this.doShowMessagePage(a,b);this.doHideMessageSentPage(a,b);this.doHideDialPage(a,b);}break;}case 'TIMEOFF_PAGE':{if(a==='timeoff-order-sent'||a==='timeoff-order-failed'){this.doShowTimeOFFSentPage(a,b);this.doHideTimeOFFPage(a,b);}else if(a==='send-message-clicked'){this.state='MESSAGE_PAGE';this.doStopMessanger(a,b);this.doShowMessagePage(a,b);this.doHideMessageSentPage(a,b);this.doHideTimeOFFPage(a,b);this.doHideTimeOFFSentPage(a,b);}else if(a==='close'||a==='button'){this.state='HIDDEN';this.doHideWidget(a,b);this.doHideTimeOFFPage(a,b);this.doHideTimeOFFSentPage(a,b);}break;}case 'FREE_PAGE':{if(a==='free-call-sent'||a==='free-call-failed'){this.doShowFreeSentPage(a,b);this.doHideFreePage(a,b);}else if(a==='close'||a==='button'){this.state='HIDDEN';this.doHideWidget(a,b);this.doHideFreePage(a,b);this.doHideFreeSentPage(a,b);}else if(a==='send-message-clicked'){this.state='MESSAGE_PAGE';this.doStopMessanger(a,b);this.doShowMessagePage(a,b);this.doHideMessageSentPage(a,b);this.doHideFreePage(a,b);this.doHideFreeSentPage(a,b);}break;}}},isTimeON:function(a,b){var c=new Date();var d=c.getHours();var e=c.getDay();if(e==0)e=7;debug.log(this.name+".isTimeON('"+a+"', "+b+")",e,CallFeedOptions.schedule[e]);var f=true;try{var g=CallFeedOptions.schedule[e];if(g!='-'){g=g.split('-');var h=parseInt(g[0].split(':')[0]);var i=parseInt(g[1].split(':')[0])+1;if(d<h||d>=i)f=false;}else f=false;}catch(j){debug.log(j);}return f;},isPaid:function(a,b){debug.log(this.name+".isPaid('"+a+"', "+b+")",CallFeedOptions.mode);try{return CallFeedOptions.mode=='paid';}catch(c){return false;}},isDialing:function(a,b){return self.dialer&&self.dialer.state!='READY';},doInit:function(b,c){debug.log(this.name+".doInit('"+b+"', "+c+")");this.visualizer=new u('AT_STARTUP',this);this.visualizer.event('init');this.dialer=new v('AT_STARTUP',this);this.dialer.event('init');this.callorder=new w('AT_STARTUP',this);this.callorder.event('init');this.timeofforder=new x('AT_STARTUP',this);this.timeofforder.event('init');this.messanger=new y('AT_STARTUP',this);this.messanger.event('init');this.freecaller=new z('AT_STARTUP',this);this.freecaller.event('init');for(var d in CallFeedOptions.controllers)switch(d){case 'delayed_popup':{this.controllers[d]=new A('AT_STARTUP',CallFeedOptions.controllers[d]);break;}case 'hash_checker':{this.controllers[d]=new B('AT_STARTUP',CallFeedOptions.controllers[d]);break;}}this._bind_events();this.event('all-done');a.setTimeout(function(){debug.log('start controllers',CallFeedWidget.controllers);for(var a in CallFeedWidget.controllers)CallFeedWidget.controllers[a].event('init');},10);},doShowWidget:function(a,b){debug.log(this.name+".doShowWidget('"+a+"', "+b+")");this.visualizer.event('show');},doHideWidget:function(a,b){debug.log(this.name+".doHideWidget('"+a+"', "+b+")");this.visualizer.event('hide');},doShowMainPage:function(a,b){debug.log(this.name+".doShowMainPage('"+a+"', "+b+")");$("#cf_main_content").show();},doHideMainPage:function(a,b){debug.log(this.name+".doHideMainPage('"+a+"', "+b+")");$("#cf_main_content").hide();},doShowDialPage:function(a,b){debug.log(this.name+".doShowDialPage('"+a+"', "+b+")");$("#cf_dial_content").show();},doHideDialPage:function(a,b){debug.log(this.name+".doHideDialPage('"+a+"', "+b+")");$("#cf_dial_content").hide();},doShowFreePage:function(a,b){debug.log(this.name+".doShowFreePage('"+a+"', "+b+")");$("#cf_free_content").show();},doHideFreePage:function(a,b){debug.log(this.name+".doHideFreePage('"+a+"', "+b+")");$("#cf_free_content").hide();},doShowFreeSentPage:function(a,b){debug.log(this.name+".doShowFreeSentPage('"+a+"', "+b+")");$("#cf_free_sent_content").show();},doHideFreeSentPage:function(a,b){debug.log(this.name+".doHideFreeSentPage('"+a+"', "+b+")");$("#cf_free_sent_content").hide();},doShowTimeOFFPage:function(a,b){debug.log(this.name+".doShowTimeOFFPage('"+a+"', "+b+")");$("#cf_timeoff_content").show();},doHideTimeOFFPage:function(a,b){debug.log(this.name+".doHideTimeOFFPage('"+a+"', "+b+")");$("#cf_timeoff_content").hide();},doShowTimeOFFSentPage:function(a,b){debug.log(this.name+".doShowTimeOFFSentPage('"+a+"', "+b+")");$("#cf_timeoff_sent_content").show();},doHideTimeOFFSentPage:function(a,b){debug.log(this.name+".doHideTimeOFFSentPage('"+a+"', "+b+")");$("#cf_timeoff_sent_content").hide();},doShowMessagePage:function(a,b){debug.log(this.name+".doShowMessagePage('"+a+"', "+b+")");$("#cf_message_content").show();},doHideMessagePage:function(a,b){debug.log(this.name+".doHideMessagePage('"+a+"', "+b+")");$("#cf_message_content").hide();},doShowMessageSentPage:function(a,b){debug.log(this.name+".doShowMessageSentPage('"+a+"', "+b+")");$("#cf_message_sent_content").show();},doHideMessageSentPage:function(a,b){debug.log(this.name+".doHideMessageSentPage('"+a+"', "+b+")");$("#cf_message_sent_content").hide();},doShowOrderPage:function(a,b){debug.log(this.name+".doShowOrderPage('"+a+"', "+b+")");$("#cf_order_content").show();},doHideOrderPage:function(a,b){debug.log(this.name+".doHideOrderPage('"+a+"', "+b+")");$("#cf_order_content").hide();},doShowOrderSentPage:function(a,b){debug.log(this.name+".doShowOrderSentPage('"+a+"', "+b+")");$("#cf_order_sent_content").show();},doHideOrderSentPage:function(a,b){debug.log(this.name+".doHideOrderSentPage('"+a+"', "+b+")");$("#cf_order_sent_content").hide();},doStartDialer:function(a,b){debug.log(this.name+".doStartDialer('"+a+"', "+b+")");this.dialer.event('start',b);},doStopDialer:function(a,b){debug.log(this.name+".doStartDialer('"+a+"', "+b+")");this.dialer.event('stop',b);},doStopCallOrder:function(a,b){debug.log(this.name+".doStopCallOrder('"+a+"', "+b+")");this.callorder.event('stop',b);},doStopTimeOFFOrder:function(a,b){debug.log(this.name+".doStopTimeOFFOrder('"+a+"', "+b+")");this.timeofforder.event('stop',b);},doStopMessanger:function(a,b){debug.log(this.name+".doStopMessanger('"+a+"', "+b+")");this.messanger.event('stop',b);},doStopFreeCaller:function(a,b){debug.log(this.name+".doStopFreeCaller('"+a+"', "+b+")");this.freecaller.event('stop',b);},doSetCookie:function(a,b){debug.log(this.name+".doSetCookie('"+a+"', "+b+")");$.cookie.json=true;$.cookie('callfeed_activated_'+CallFeedToken,true,{expires:CallFeedOptions.cookie_ttl_seconds,path:'/'});},_validate_phone:function(a,b){if(k(a))b();},_validate_email:function(a,b){if(j(a))b();},_bind_events:function(){$('#cf_main_button, .callfeed_button, .callfeed_button_link').click(function(){CallFeedWidget.event('button');});$('a').each(function(){if(this.href.indexOf('#callfeed')>=0){debug.log('_bind_events found an anchor',this,this.href);$(this).click(function(){CallFeedWidget.event('button');});}});$('.cf_close_button').click(function(){CallFeedWidget.event('close');});$('.cf_time_select_link').click(function(){CallFeedWidget.event('call-later-clicked');});$('.cf_send_message_link').click(function(){CallFeedWidget.event('send-message-clicked');});$('.cf_order_go_back_link').click(function(){CallFeedWidget.event('back-clicked');});$('.cf_message_go_back_link').click(function(){CallFeedWidget.event('call-now-clicked');});$('#cf_main_call_button').click(function(){if(!k($('#cf_main_call_input').val()))$("#cf_main_call_panel").addClass('cf__notvalid');else{$("#cf_main_call_panel").removeClass('cf__notvalid');CallFeedWidget.event('call-button-clicked');}});$('#cf_main_call_input').focus(function(){$("#cf_main_call_panel").removeClass('cf__notvalid');});$('#cf_main_call_input').hover(function(){$("#cf_main_call_panel").removeClass('cf__notvalid');});}});var u=r.extend({construct:function(a,b){this.debug=true;this.log_events=false;this.state=a;this.name="widget_visualizer";this.parent=b;this.is_touch=this._is_touch_device();debug.log('CREATED AUTOMAT '+this.name,"TOUCH DEVICE:",this.is_touch);},kill:function(){debug.log('DESTROY AUTOMAT '+this.name);this.parent=null;delete this.parent;},state_changed:function(a,b,c,d){},A:function(a,b){switch(this.state){case 'AT_STARTUP':{if(a==='init'&&this.isStaticWindow(a,b)){this.state='STATIC_WINDOW';this.doInit(a,b);this.doSetUpStaticWindow(a,b);}break;}case 'STATIC_WINDOW':{if(a==='show')this.doShow(a,b);else if(a==='hide')this.doHide(a,b);break;}}},isStaticWindow:function(a,b){debug.log(this.name+".isStaticWindow('"+a+"', "+b+")");return(CallFeedOptions.position=="fixed");},doInit:function(a,b){debug.log(this.name+".doInit('"+a+"', "+b+")");this._apply_background();this._apply_managers();this._apply_text_color();this._bind_events();this._size_off_pages();},doSetUpStaticWindow:function(a,b){debug.log(this.name+".doSetUpStaticWindow('"+a+"', "+b+")");},doShow:function(a,b){debug.log(this.name+".doShow('"+a+"', "+b+")");this._widget_show();},doHide:function(a,b){debug.log(this.name+".doHide('"+a+"', "+b+")");this._widget_hide();},_bind_events:function(){$('.cf_call_input').on('keypress',function(b){var c=b||a.event;var d=c.which||c.keyCode;if(d=='13'){c.preventDefault();return false;}return true;});$('.cf_call_input,#cf_message_phone_input').focus(function(){if($(this).val()=="")$(this).val("+7");});$(".cf_call_input, #cf_message_phone_input").keydown(function(a){if($.inArray(a.keyCode,[43,46,8,9,27,13,110,190])!==-1||(a.keyCode==65&&(a.ctrlKey===true||a.metaKey===true))||(a.keyCode>=35&&a.keyCode<=40))return;if((a.shiftKey||(a.keyCode<48||a.keyCode>57))&&(a.keyCode<96||a.keyCode>105))a.preventDefault();});},_widget_show:function(){this._size_on_pages();return $("#cf_widget").show();},_widget_hide:function(){ret=$("#cf_widget").hide();this._size_off_pages();return ret;},_size_on_pages:function(){$('#callfeed_root').css('height',CallFeedOptions.param_total_max_height+'px');$('#cf_main_content').removeClass('cf__div0height');$('#cf_dial_content').removeClass('cf__div0height');$('#cf_free_content').removeClass('cf__div0height');$('#cf_free_sent_content').removeClass('cf__div0height');$('#cf_timeoff_content').removeClass('cf__div0height');$('#cf_timeoff_sent_content').removeClass('cf__div0height');$('#cf_message_content').removeClass('cf__div0height');$('#cf_message_sent_content').removeClass('cf__div0height');$('#cf_order_content').removeClass('cf__div0height');$('#cf_order_sent_content').removeClass('cf__div0height');},_size_off_pages:function(){$('#callfeed_root').css('height',CallFeedOptions.param_button_height+'px');$('#cf_main_content').addClass('cf__div0height');$('#cf_dial_content').addClass('cf__div0height');$('#cf_free_content').addClass('cf__div0height');$('#cf_free_sent_content').addClass('cf__div0height');$('#cf_timeoff_content').addClass('cf__div0height');$('#cf_timeoff_sent_content').addClass('cf__div0height');$('#cf_message_content').addClass('cf__div0height');$('#cf_message_sent_content').addClass('cf__div0height');$('#cf_order_content').addClass('cf__div0height');$('#cf_order_sent_content').addClass('cf__div0height');},_is_touch_device:function(){var c=a.navigator&&a.navigator.msPointerEnabled&&a.MSGesture;return(("ontouchstart" in a)||c||a.DocumentTouch&&b instanceof DocumentTouch);},_apply_text_color:function(){if(CallFeedOptions.color_font_global.toLowerCase()!='#fff'&&CallFeedOptions.color_font_global.toLowerCase()!='#ffffff')$('.cf_close_button_img').attr('src','http://callfeed.net/static/img/widget/u42_black.png');},_apply_background:function(){if(CallFeedOptions.color_background_image_global){debug.log('Add Background image:',CallFeedOptions.color_background_image_global);$('.cf_background').css('background','url('+CallFeedOptions.color_background_image_global+') no-repeat left bottom');$('.cf_background').css('background-size','cover');}},_apply_managers:function(){var a=true;if(CallFeedOptions.managers&&(CallFeedOptions.managers.length>0)&&CallFeedOptions.managers[0].photo_url)a=false;if(!a&&!CallFeedOptions.flag_is_operator_shown_in_widget)a=true;if(a){debug.log('_apply_managers SKIP',$('#cf_main_content').height(),CallFeedOptions.param_manager_panel_height,CallFeedOptions.managers);$('.cf_manager_panel').hide();$('#cf_main_content').css({'height':(parseInt($('#cf_main_content').height()-CallFeedOptions.param_manager_panel_height))+'px'});$('#cf_dial_content').css({'height':(parseInt($('#cf_dial_content').height()-CallFeedOptions.param_manager_panel_height))+'px'});$('#cf_free_content').css({'height':(parseInt($('#cf_free_content').height()-CallFeedOptions.param_manager_panel_height))+'px'});$('#cf_order_content').css({'height':(parseInt($('#cf_order_content').height()-CallFeedOptions.param_manager_panel_height))+'px'});$('#cf_order_sent_content').css({'height':(parseInt($('#cf_order_sent_content').height()-CallFeedOptions.param_manager_panel_height))+'px'});$('#cf_main_custom_text').css({'margin-top':'-'+parseInt(CallFeedOptions.param_manager_panel_height)+'px'});$('#cf_dial_custom_text').css({'margin-top':'-'+parseInt(CallFeedOptions.param_manager_panel_height)+'px'});$('#cf_order_custom_text').css({'margin-top':'-'+parseInt(CallFeedOptions.param_manager_panel_height)+'px'});$('#cf_order_sent_custom_text').css({'margin-top':'-'+parseInt(CallFeedOptions.param_manager_panel_height)+'px'});$('#cf_free_custom_text').css({'margin-top':'-'+parseInt(CallFeedOptions.param_manager_panel_height)+'px'});}else{var b=CallFeedOptions.managers[0];debug.log('_apply_managers',b,CallFeedOptions.flag_is_operator_shown_in_widget);$('.cf_manager_face').attr('src',b.photo_url);$('.cf_manager_name_value').html(b.name);$('.cf_manager_role_value').html(b.role);}},_prepare_day_time:function(a){var b=new Date();var c=b.getHours();var d=b.getDay();if(d==0)d=7;var e=CallFeedOptions.schedule;var f=[];var g=false;var h=[1,2,3,4,5,6,7];var i=[];try{for(var j=1;j<=7;j++)if(e[j]!='-'){g=true;var k=e[j].split('-');var l=parseInt(k[1].split(':')[0])+1;if(j==d){if(c>=l)h[j-1]=0;f.push('Сегодня');}else if(j==d+1)f.push('Завтра');else if(j==d+2)f.push('Послезавтра');else f.push(m()[j-1]);}else{f.push('');h[j-1]=0;}for(var n=0;n<=h.length;n++){var o=h[(n+d-1)%7];if(o>0&&i.indexOf(o)<0)i.push(o);}}catch(p){debug.log(p);}if(g){$('#'+a+' option[value="Сегодня"]').remove();$('#'+a+' option[value="Завтра"]').remove();$('#'+a+' option[value="Послезавтра"]').remove();$('#'+a+' option[value="Понедельник"]').remove();$('#'+a+' option[value="Вторник"]').remove();$('#'+a+' option[value="Среда"]').remove();$('#'+a+' option[value="Четверг"]').remove();$('#'+a+' option[value="Пятница"]').remove();$('#'+a+' option[value="Суббота"]').remove();$('#'+a+' option[value="Воскресенье"]').remove();for(var q=0;q<i.length;q++){var r=i[q];var s=f[r-1];$('#'+a).append('<option class="cf__option" value="'+s+'">'+s+'</option>');}}},_update_from_to_time:function(a,b){var c=new Date();var d=c.getDay();if(d==0)d=7;var e=c.getHours();var f=null;if($("#"+a).val()=='Сегодня')f=d;else if($("#"+a).val()=='Завтра')f=d+1;else if($("#"+a).val()=='Послезавтра')f=d+2;else f=n()[$("#"+a).val()];if(f>7)f-=7;try{var g=CallFeedOptions.schedule[f].split('-');var h=parseInt(g[0].split(':')[0]);var i=parseInt(g[1].split(':')[0])+1;if(f==d&&e>h)h=e+1;for(var j=0;j<=23;j++){var k=String(j);while(k.length<2)k="0"+k;$('#'+b+' option[value="'+k+':00"]').remove();}for(var j=h;j<=i;j++){var k=String(j);while(k.length<2)k="0"+k;$('#'+b).append('<option class="cf__option" value="'+k+':00">'+k+':00</option>');}}catch(l){debug.log(l);}}});var v=r.extend({construct:function(a,b){this.state=a;this.name="widget_dialer";this.parent=b;debug.log('CREATED AUTOMAT '+this.name);},kill:function(){debug.log('DESTROY AUTOMAT '+this.name);this.parent=null;delete this.parent;this.counter=null;delete this.counter;this.countdown_seconds=null;delete this.countdown_seconds;},state_changed:function(a,b,c,d){},A:function(a,b){switch(this.state){case 'CONNECTING':{if(a==='fail'){this.state='FAIL';this.doPrintErrorMessage(a,b);}else if(a==='success'){this.state='CALLING?';this.doStartCounter(a,b);this.doJSONPCall(a,b);this.doPrintMTTCalling(a,b);}else if(a==='stop'){this.state='READY';this.doPrintReady(a,b);}break;}case 'SUCCESS!':{if(a==='stop'){this.state='READY';this.doPrintReady(a,b);}break;}case 'AT_STARTUP':{if(a==='init'){this.state='READY';this.doInit(a,b);this.doPrintReady(a,b);}break;}case 'READY':{if(a==='start'){this.state='CONNECTING';this.doPrintConnecting(a,b);this.doJSONPConnect(a,b);}break;}case 'CALLING?':{if(a==='call-success'){}else if(a==='stop'){this.state='READY';this.doStopCounter(a,b);this.doPrintReady(a,b);}else if(a==='countdown-finished'){this.state='LATE';this.doPrintTimeExceed(a,b);}else if(a==='call-failed'){this.state='FAIL';this.doStopCounter(a,b);this.doPrintErrorMessage(a,b);}break;}case 'FAIL':{if(a==='stop'){this.state='READY';this.doPrintReady(a,b);}break;}case 'LATE':{if(a==='call-success'){}else if(a==='stop'){this.state='READY';this.doPrintReady(a,b);}break;}}},doInit:function(a,b){debug.log(this.name+".doInit('"+a+"', "+b+")");this.counter=null;this.countdown_seconds=-1;},doJSONPCall:function(a,b){debug.log(this.name+".doJSONPCall('"+a+"', "+b+")",$("#cf_main_call_input").val());jsonp_request('http://callfeed.net/input?'+$.param({'token':CallFeedToken,'phone':$("#cf_main_call_input").val()}),function(a){debug.log("doJSONPCall.success",a);if(a.hasOwnProperty('response')&&a.response=='ok')CallFeedWidget.dialer.event('call-success',a);else{debug.log("RESPONSE:",a.response,a.message);CallFeedWidget.dialer.event('call-failed',a);}},function(a){debug.log("doJSONPCall.fail",a);CallFeedWidget.dialer.event('call-failed',a);});},doJSONPConnect:function(a,b){debug.log(this.name+".doJSONPConnect('"+a+"', "+b+")");jsonp_request('http://callfeed.net/input?'+$.param({'token':CallFeedToken}),function(a){debug.log("doJSONPConnect.success",a);var b="";var c=null;try{b=a.response;c=a.mode;}catch(d){debug.log("doJSONPConnect.success EXCEPTION",d);CallFeedWidget.dialer.event('fail',d);return;}if(b=='ok')if(c&&c=='paid')CallFeedWidget.dialer.event('success',a);else{CallFeedWidget.dialer.event('stop');CallFeedSession.event('not-paid');}else{debug.log("RESPONSE:",b,a.message);CallFeedWidget.dialer.event('fail',a);}},function(a){debug.log("doJSONPConnect.fail",a);CallFeedWidget.dialer.event('fail',a);});},doStartCounter:function(a,b){debug.log(this.name+".doStartCounter('"+a+"', "+b+")");if(this.counter)clearInterval(this.counter);this.countdown_seconds=CallFeedOptions.countdown_from;this.counter=setInterval(function(){CallFeedWidget.dialer.countdown_seconds-=1;if(CallFeedWidget.dialer.countdown_seconds==-1){if(CallFeedWidget.dialer.counter)clearInterval(CallFeedWidget.dialer.counter);CallFeedWidget.dialer.event('countdown-finished');return;}CallFeedWidget.dialer._update_countdown_element();},1000);},doStopCounter:function(a,b){debug.log(this.name+".doStopCounter('"+a+"', "+b+")");if(this.counter){debug.log('counter will be stopped:',this.counter);clearInterval(this.counter);}this.counter=null;this.countdown_seconds=-1;},doPrintReady:function(a,b){debug.log(this.name+".doPrintReady('"+a+"', "+b+")");$('#cf_dial_custom_text_value').html(CallFeedOptions.text_dial_ready);},doPrintConnecting:function(a,b){debug.log(this.name+".doPrintConnecting('"+a+"', "+b+")");$('#cf_dial_custom_text_value').html(CallFeedOptions.text_dial_start);},doPrintMTTCalling:function(a,b){debug.log(this.name+".doPrintMTTCalling('"+a+"', "+b+")");$('#cf_dial_custom_text_value').html(CallFeedOptions.text_dial_calling);},doPrintSuccess:function(a,b){debug.log(this.name+".doPrintSuccess('"+a+"', "+b+")");$('#cf_dial_custom_text_value').html(CallFeedOptions.text_dial_success);},doPrintTimeExceed:function(a,b){debug.log(this.name+".doPrintTimeExceed('"+a+"', "+b+")");$('#cf_dial_custom_text_value').html(CallFeedOptions.text_dial_late);},doPrintErrorMessage:function(a,b){debug.log(this.name+".doPrintErrorMessage('"+a+"', "+b+")");$('#cf_dial_custom_text_value').html(CallFeedOptions.text_dial_failed);},_update_countdown_element:function(){var a=String(this.countdown_seconds);while(a.length<2)a="0"+a;$('#cf_dial_countdown_text').html('00:'+a);var b='#B9E0A5';if(this.countdown_seconds<10)b='#FFE599';if(this.countdown_seconds<5)b='#F3B1CA';$('#cf_dial_countdown_text').css({'color':b});debug.log('_update_countdown_element',a,b);}});var w=r.extend({construct:function(a,b){this.state=a;this.name="widget_call_order";this.parent=b;debug.log('CREATED AUTOMAT '+this.name);},kill:function(){debug.log('DESTROY AUTOMAT '+this.name);this.parent=null;delete this.parent;},state_changed:function(a,b,c,d){},A:function(a,b){switch(this.state){case 'AT_STARTUP':{if(a==='init'){this.state='READY';this.doInit(a,b);this.doPrintReady(a,b);}break;}case 'READY':{if(a==='order-button-clicked'){this.state='SENDING?';this.doPrintSending(a,b);this.doJSONPSend(a,b);}break;}case 'SUCCESS!':{if(a==='stop'){this.state='READY';this.doPrintReady(a,b);}break;}case 'SENDING?':{if(a==='send-success'){this.state='SUCCESS!';this.doPrintSuccess(a,b);}else if(a==='send-failed'){this.state='FAIL';this.doPrintError(a,b);}break;}case 'FAIL':{if(a==='stop'){this.state='READY';this.doPrintReady(a,b);}break;}}},doInit:function(a,b){debug.log(this.name+".doInit('"+a+"', "+b+")");this._bind_events();CallFeedWidget.visualizer._prepare_day_time('cf_order_day_select');CallFeedWidget.visualizer._update_from_to_time('cf_order_day_select','cf_order_time_select');},doJSONPSend:function(a,b){debug.log(this.name+".doJSONPSend('"+a+"', "+b+")");jsonp_request('http://callfeed.net/input?'+$.param({'token':CallFeedToken,'order_phone':$("#cf_order_call_input").val(),'order_day':$("#cf_order_day_select").val(),'order_delta_day':p($("#cf_order_day_select").val()),'order_time':$("#cf_order_time_select").val(),'referrer':encodeURIComponent(CallFeedSession.referrer),'hostame':encodeURIComponent(CallFeedSession.hostname)}),function(a){debug.log("doJSONPSend.success",a);if(a.hasOwnProperty('response')&&a.response=='ok')CallFeedWidget.callorder.event('send-success',a);else CallFeedWidget.callorder.event('send-failed',a);},function(a){debug.log("doJSONPSend.failed",a);CallFeedWidget.callorder.event('send-failed',a);});},doPrintReady:function(a,b){debug.log(this.name+".doPrintReady('"+a+"', "+b+")");this._enable_fields();},doPrintSending:function(a,b){debug.log(this.name+".doPrintSending('"+a+"', "+b+")");this._disable_fields();},doPrintSuccess:function(a,b){debug.log(this.name+".doPrintSuccess('"+a+"', "+b+")");$('#cf_order_sent_custom_text_value').html(CallFeedOptions.text_order_done);this.parent.event('order-sent');this._enable_fields();},doPrintError:function(a,b){debug.log(this.name+".doPrintError('"+a+"', "+b+")");$('#cf_order_sent_custom_text_value').html(CallFeedOptions.text_order_failed);this.parent.event('order-failed');this._enable_fields();},_enable_fields:function(){$('#cf_order_day_select, #cf_order_time_select').attr('disabled',false);$('#cf_order_call_input').prop('disabled',false);},_disable_fields:function(){$('#cf_order_day_select, #cf_order_time_select').attr('disabled',true);$('#cf_order_call_input').prop('disabled',true);},_bind_events:function(){$('#cf_order_call_button').click(function(){if(!k($('#cf_order_call_input').val())){$("#cf_order_call_panel").addClass('cf__notvalid');$("#cf_order_call_input").addClass('cf__notvalid');}else{$("#cf_order_call_panel").removeClass('cf__notvalid');$("#cf_order_call_input").removeClass('cf__notvalid');CallFeedWidget.callorder.event('order-button-clicked');}});$('#cf_order_call_input').focus(function(){$("#cf_order_call_panel").removeClass('cf__notvalid');$("#cf_order_call_input").removeClass('cf__notvalid');});$('#cf_order_call_input').hover(function(){$("#cf_order_call_panel").removeClass('cf__notvalid');$("#cf_order_call_input").removeClass('cf__notvalid');});$('#cf_order_day_select').change(function(){CallFeedWidget.visualizer._update_from_to_time('cf_order_day_select','cf_order_time_select');});}});var x=r.extend({construct:function(a,b){this.state=a;this.name="widget_timeoff_order";this.parent=b;debug.log('CREATED AUTOMAT '+this.name);},kill:function(){debug.log('DESTROY AUTOMAT '+this.name);this.parent=null;delete this.parent;},state_changed:function(a,b,c,d){},A:function(a,b){switch(this.state){case 'AT_STARTUP':{if(a==='init'){this.state='READY';this.doInit(a,b);this.doPrintReady(a,b);}break;}case 'READY':{if(a==='order-button-clicked'){this.state='SENDING?';this.doPrintSending(a,b);this.doJSONPSend(a,b);}break;}case 'SUCCESS!':{if(a==='stop'){this.state='READY';this.doPrintReady(a,b);}break;}case 'SENDING?':{if(a==='send-failed'){this.state='FAIL';this.doPrintError(a,b);}else if(a==='send-success'){this.state='SUCCESS!';this.doPrintSuccess(a,b);}break;}case 'FAIL':{if(a==='stop'){this.state='READY';this.doPrintReady(a,b);}break;}}},doInit:function(a,b){debug.log(this.name+".doInit('"+a+"', "+b+")");this._bind_events();CallFeedWidget.visualizer._prepare_day_time('cf_timeoff_day_select');CallFeedWidget.visualizer._update_from_to_time('cf_timeoff_day_select','cf_timeoff_time_select');},doJSONPSend:function(a,b){debug.log(this.name+".doJSONPSend('"+a+"', "+b+")",CallFeedToken);jsonp_request('http://callfeed.net/input?'+$.param({'token':CallFeedToken,'timeoff_phone':$("#cf_timeoff_call_input").val(),'timeoff_day':$("#cf_timeoff_day_select").val(),'timeoff_time':$("#cf_timeoff_time_select").val()}),function(a){debug.log("doJSONPSend.success",a);if(a.hasOwnProperty('response')&&a.response=='ok')CallFeedWidget.timeofforder.event('send-success',a);else CallFeedWidget.timeofforder.event('send-failed',a);},function(a){debug.log("doJSONPSend.failed",a);CallFeedWidget.timeofforder.event('send-failed',a);});},doPrintReady:function(a,b){debug.log(this.name+".doPrintReady('"+a+"', "+b+")");this._enable_fields();},doPrintSending:function(a,b){debug.log(this.name+".doPrintSending('"+a+"', "+b+")");this._disable_fields();},doPrintSuccess:function(a,b){debug.log(this.name+".doPrintSuccess('"+a+"', "+b+")");$('#cf_timeoff_sent_custom_text_value').html(CallFeedOptions.text_timeoff_done);this.parent.event('timeoff-order-sent');this._enable_fields();},doPrintError:function(a,b){debug.log(this.name+".doPrintError('"+a+"', "+b+")");$('#cf_timeoff_sent_custom_text_value').html(CallFeedOptions.text_timeoff_failed);this.parent.event('timeoff-order-failed');this._enable_fields();},_enable_fields:function(){$('#cf_timeoff_day_select, #cf_timeoff_time_select').attr('disabled',false);$('#cf_timeoff_call_input').prop('disabled',false);},_disable_fields:function(){$('#cf_timeoff_day_select, #cf_timeoff_time_select').attr('disabled',true);$('#cf_timeoff_call_input').prop('disabled',true);},_bind_events:function(){$('#cf_timeoff_call_button').click(function(){if(!k($('#cf_timeoff_call_input').val())){$("#cf_timeoff_call_panel").addClass('cf__notvalid');$("#cf_timeoff_call_input").addClass('cf__notvalid');}else{$("#cf_timeoff_call_panel").removeClass('cf__notvalid');$("#cf_timeoff_call_input").removeClass('cf__notvalid');CallFeedWidget.timeofforder.event('order-button-clicked');}});$('#cf_timeoff_call_input').focus(function(){$("#cf_timeoff_call_panel").removeClass('cf__notvalid');$("#cf_timeoff_call_input").removeClass('cf__notvalid');});$('#cf_timeoff_call_input').hover(function(){$("#cf_timeoff_call_panel").removeClass('cf__notvalid');$("#cf_timeoff_call_input").removeClass('cf__notvalid');});$('#cf_timeoff_day_select').change(function(){CallFeedWidget.visualizer._update_from_to_time('cf_timeoff_day_select','cf_timeoff_time_select');});}});var y=r.extend({construct:function(a,b){this.state=a;this.name="widget_messanger";this.parent=b;debug.log('CREATED AUTOMAT '+this.name);},kill:function(){debug.log('DESTROY AUTOMAT '+this.name);this.parent=null;delete this.parent;},state_changed:function(a,b,c,d){},A:function(a,b){switch(this.state){case 'AT_STARTUP':{if(a==='init'){this.state='READY';this.doInit(a,b);this.doPrintReady(a,b);}break;}case 'READY':{if(a==='send-button-clicked'){this.state='SENDING?';this.doPrintSending(a,b);this.doJSONPSend(a,b);}break;}case 'SUCCESS!':{if(a==='stop'){this.state='READY';this.doPrintReady(a,b);}break;}case 'SENDING?':{if(a==='send-failed'){this.state='FAIL';this.doPrintError(a,b);}else if(a==='send-success'){this.state='SUCCESS!';this.doPrintSuccess(a,b);}break;}case 'FAIL':{if(a==='stop'){this.state='READY';this.doPrintReady(a,b);}break;}}},doInit:function(a,b){debug.log(this.name+".doInit('"+a+"', "+b+")");this._apply_params();this._bind_events();},doJSONPSend:function(a,b){debug.log(this.name+".doJSONPSend('"+a+"', "+b+")");jsonp_request('http://callfeed.net/input?'+$.param({'token':CallFeedToken,'message_phone':$("#cf_message_phone_input").val(),'message_email':$("#cf_message_email_input").val(),'message_text':$("#cf_message_message_textarea").val()}),function(a){debug.log("doJSONPSend.success",a);if(a.hasOwnProperty('response')&&a.response=='ok')CallFeedWidget.messanger.event('send-success',a);else CallFeedWidget.messanger.event('send-failed',a);},function(a){debug.log("doJSONPSend.error",a);CallFeedWidget.messanger.event('send-failed',a);});},doPrintReady:function(a,b){debug.log(this.name+".doPrintReady('"+a+"', "+b+")");this._enable_fields();},doPrintSending:function(a,b){debug.log(this.name+".doPrintSending('"+a+"', "+b+")");this._disable_fields();},doPrintSuccess:function(a,b){debug.log(this.name+".doPrintSuccess('"+a+"', "+b+")");$('#cf_message_sent_custom_text_value').html(CallFeedOptions.text_message_sent);this.parent.event('message-sent');this._enable_fields();},doPrintError:function(a,b){debug.log(this.name+".doPrintError('"+a+"', "+b+")");$('#cf_message_sent_custom_text_value').html(CallFeedOptions.text_message_failed);this.parent.event('message-failed');this._enable_fields();},_enable_fields:function(){$('#cf_message_message_textarea').removeAttr('disabled').removeClass('cf__disabled');$('#cf_message_phone_input, #cf_message_email_input').prop('disabled',false).removeClass('cf__disabled');},_disable_fields:function(){$('#cf_message_message_textarea').attr('disabled','disabled').addClass('cf__disabled');$('#cf_message_phone_input, #cf_message_email_input').prop('disabled',true).addClass('cf__disabled');},_apply_params:function(){if(CallFeedOptions.flag_name_field_obligatory)$('#cf_message_name_input').attr('placeholder',$('#cf_message_name_input').attr('placeholder')+'*');if(CallFeedOptions.flag_email_field_obligatory)$('#cf_message_email_input').attr('placeholder',$('#cf_message_email_input').attr('placeholder')+'*');if(CallFeedOptions.flag_phone_field_obligatory)$('#cf_message_phone_input').attr('placeholder',$('#cf_message_phone_input').attr('placeholder')+'*');var a=0;if(!CallFeedOptions.flag_name_field){a+=50;$('#cf_message_name_input').hide();$('#cf_message_message_textarea').css({'bottom':(parseInt($('#cf_message_message_textarea').css('bottom'))-50)+'px'});}if(!CallFeedOptions.flag_email_field){a+=50;$('#cf_message_email_input').hide();$('#cf_message_message_textarea').css({'bottom':(parseInt($('#cf_message_message_textarea').css('bottom'))-50)+'px'});$('#cf_message_name_input').css({'bottom':(parseInt($('#cf_message_name_input').css('bottom'))-50)+'px'});}if(!CallFeedOptions.flag_phone_field){a+=50;$('#cf_message_phone_input').hide();$('#cf_message_message_textarea').css({'bottom':(parseInt($('#cf_message_message_textarea').css('bottom'))-50)+'px'});$('#cf_message_name_input').css({'bottom':(parseInt($('#cf_message_name_input').css('bottom'))-50)+'px'});$('#cf_message_email_input').css({'bottom':(parseInt($('#cf_message_email_input').css('bottom'))-50)+'px'});}CallFeedOptions.param_message_height-=a;if(a>0)$('#cf_message_content').css({'height':CallFeedOptions.param_message_height+'px'});},_bind_events:function(){$('#cf_message_send_button').click(function(){var a=false;var b=false;var c=false;if(CallFeedOptions.flag_name_field_obligatory&&CallFeedOptions.flag_name_field)a=$('#cf_message_name_input').val()!='';else a=true;if(CallFeedOptions.flag_email_field_obligatory&&CallFeedOptions.flag_email_field)b=j($('#cf_message_email_input').val());else b=true;if(CallFeedOptions.flag_phone_field_obligatory&&CallFeedOptions.flag_phone_field)c=k($('#cf_message_phone_input').val());else c=true;if(a&&b&&c)CallFeedWidget.messanger.event('send-button-clicked');else{debug.log(a,b,c);if(CallFeedOptions.flag_name_field_obligatory&&!a)$("#cf_message_name_input").addClass('cf__notvalid');if(CallFeedOptions.flag_email_field_obligatory&&!b)$("#cf_message_email_input").addClass('cf__notvalid');if(CallFeedOptions.flag_phone_field_obligatory&&!c)$("#cf_message_phone_input").addClass('cf__notvalid');}});$('#cf_message_name_input').keyup(function(){var a=$("#cf_message_name_input").val();if(a)$("#cf_message_name_input").removeClass('cf__notvalid').addClass('cf__valid');});$('#cf_message_email_input').keyup(function(){var a=$("#cf_message_email_input").val();if(!a)$("#cf_message_email_input").removeClass('cf__notvalid').addClass('cf__valid');else if(j(a))$("#cf_message_email_input").removeClass('cf__notvalid').addClass('cf__valid');else $("#cf_message_email_input").removeClass('cf__valid').addClass('cf__notvalid');});$('#cf_message_phone_input').keyup(function(){var a=$('#cf_message_phone_input').val();if(!a)$("#cf_message_phone_input").removeClass('cf__notvalid').addClass('cf__valid');else if(k(a))$("#cf_message_phone_input").removeClass('cf__notvalid').addClass('cf__valid');else $("#cf_message_phone_input").removeClass('cf__valid').addClass('cf__notvalid');});}});var z=r.extend({construct:function(a,b){this.state=a;this.name="widget_free_caller";this.parent=b;debug.log('CREATED AUTOMAT '+this.name);},kill:function(){debug.log('DESTROY AUTOMAT '+this.name);this.parent=null;delete this.parent;},state_changed:function(a,b,c,d){},A:function(a,b){switch(this.state){case 'AT_STARTUP':{if(a==='init'){this.state='READY';this.doInit(a,b);this.doPrintReady(a,b);}break;}case 'READY':{if(a==='send-button-clicked'){this.state='SENDING?';this.doPrintSending(a,b);this.doJSONPSend(a,b);}break;}case 'SUCCESS!':{if(a==='stop'){this.state='READY';this.doPrintReady(a,b);}break;}case 'SENDING?':{if(a==='send-failed'){this.state='FAIL';this.doPrintError(a,b);}else if(a==='send-success'){this.state='SUCCESS!';this.doPrintSuccess(a,b);}break;}case 'FAIL':{if(a==='stop'){this.state='READY';this.doPrintReady(a,b);}break;}}},doInit:function(a,b){debug.log(this.name+".doInit('"+a+"', "+b+")");this._bind_events();CallFeedWidget.visualizer._prepare_day_time('cf_free_day_select');CallFeedWidget.visualizer._update_from_to_time('cf_free_day_select','cf_free_time_select');},doJSONPSend:function(a,b){debug.log(this.name+".doJSONPSend('"+a+"', "+b+")");jsonp_request('http://callfeed.net/input?'+$.param({'token':CallFeedToken,'free_phone':$("#cf_free_call_input").val(),'free_day':$("#cf_free_day_select").val(),'free_time':$("#cf_free_time_select").val()}),function(a){debug.log("doJSONPSend.success",a);if(a.hasOwnProperty('response')&&a.response=='ok')CallFeedWidget.freecaller.event('send-success',a);else CallFeedWidget.freecaller.event('send-failed',a);},function(a){debug.log("doJSONPSend.error",a);CallFeedWidget.freecaller.event('send-failed',a);});},doPrintReady:function(a,b){debug.log(this.name+".doPrintReady('"+a+"', "+b+")");this._enable_fields();},doPrintSending:function(a,b){debug.log(this.name+".doPrintSending('"+a+"', "+b+")");this._disable_fields();},doPrintSuccess:function(a,b){debug.log(this.name+".doPrintSuccess('"+a+"', "+b+")");$('#cf_free_sent_custom_text_value').html(CallFeedOptions.text_free_sent);this.parent.event('free-call-sent');this._enable_fields();},doPrintError:function(a,b){debug.log(this.name+".doPrintError('"+a+"', "+b+")");$('#cf_free_sent_custom_text_value').html(CallFeedOptions.text_free_failed);this.parent.event('free-call-failed');this._enable_fields();},_bind_events:function(){$('#cf_free_call_button').click(function(){if(!k($('#cf_free_call_input').val())){$("#cf_free_call_panel").addClass('cf__notvalid');$("#cf_free_call_input").addClass('cf__notvalid');}else{$("#cf_free_call_panel").removeClass('cf__notvalid');$("#cf_free_call_input").removeClass('cf__notvalid');CallFeedWidget.freecaller.event('send-button-clicked');}});$('#cf_free_call_input').focus(function(){$("#cf_free_call_panel").removeClass('cf__notvalid');$("#cf_free_call_input").removeClass('cf__notvalid');});$('#cf_free_call_input').hover(function(){$("#cf_free_call_panel").removeClass('cf__notvalid');$("#cf_free_call_input").removeClass('cf__notvalid');});$('#cf_free_day_select').change(function(){CallFeedWidget.freecaller._update_from_to_time();});},_enable_fields:function(){$('#cf_free_day_select, #cf_free_time_select').attr('disabled',false);$('#cf_free_call_input').prop('disabled',false);},_disable_fields:function(){$('#cf_free_day_select, #cf_free_time_select').attr('disabled',true);$('#cf_free_call_input').prop('disabled',true);}});var A=r.extend({construct:function(a,b){this.state=a;this.name="delayed_popup";this.options=b;debug.log('CREATED AUTOMAT '+this.name);},kill:function(){debug.log('DESTROY AUTOMAT '+this.name);this.options=null;delete this.options;},A:function(a,b){switch(this.state){case 'AT_STARTUP':{if(a==='init'&&this.isAlreadyFired(a,b))this.state='OFF';else if(a==='init'&&!this.isAlreadyFired(a,b)){this.state='WAIT';this.doStartTimer(a,b);}break;}case 'WAIT':{if(a==='timer'){this.state='POPUP';this.doPopup(a,b);}break;}case 'POPUP':break;case 'OFF':break;}},isAlreadyFired:function(a,b){$.cookie.json=true;var c=$.cookie('callfeed_activated_'+CallFeedToken);debug.log(this.name+".isAlreadyFired('"+a+"', "+b+")",c);return c==true;},doPopup:function(a,b){debug.log(this.name+".doPopup('"+a+"', "+b+")");CallFeedWidget.event('popup');},doStartTimer:function(b,c){debug.log(this.name+".doStartTimer('"+b+"', "+c+")");if(this.options.delay>0)a.setTimeout(function(){try{CallFeedWidget.controllers.delayed_popup.event('timer');}catch(a){debug.log('doStartTimer.setTimeout ERROR',a);}},this.options.delay);}});var B=r.extend({construct:function(a,b){this.state=a;this.name="hash_checker";this.options=b;debug.log('CREATED AUTOMAT '+this.name);},kill:function(){debug.log('DESTROY AUTOMAT '+this.name);this.options=null;delete this.options;},A:function(a,b){switch(this.state){case 'AT_STARTUP':{if(a==='init'){this.state='READY';this.doAddAnchor(a,b);this.doCheckHash(a,b);}break;}case 'READY':{if(a==='hash-exist')this.doPopup(a,b);break;}}},doAddAnchor:function(a,b){debug.log(this.name+".doAddAnchor('"+a+"', "+b+")");},doCheckHash:function(b,c){debug.log(this.name+".doCheckHash('"+b+"', "+c+")");if(a.location.hash.indexOf(this.options.keyword)>=0)CallFeedWidget.controllers.hash_checker.event('hash-exist');},doPopup:function(b,c){debug.log(this.name+".doPopup('"+b+"', "+c+")");a.setTimeout(function(){debug.log('hash_checker is sending "popup" event');CallFeedWidget.event('popup');},10);}});domReady(function(){var d=false;if(typeof jQuery=='undefined'){debug.log('no jQuery found');d=true;}else{debug.log('found jQuery:',jQuery.fn.jquery);try{versions=jQuery.fn.jquery.split('.');if(parseInt(versions[1])<7){debug.log('jQuery version too old, need at least 1.7');d=true;}}catch(e){debug.log('exception',e);d=true;}}if(d){var f=b.createElement("script");f.type="text/javascript";f.async=true;f.onload=function(){console.log('jQuery loaded:',jQuery.fn.jquery);g(jQuery);};f.src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js";b.getElementsByTagName("head")[0].appendChild(f);}else g(jQuery);function g(b){a.$=b;debug.log('init_callfeed',$,$.fn.jquery,a);c(b);if((typeof CallFeedToken!='undefined')&&(CallFeedToken!=null)){debug.log('START UP NOW! token:',CallFeedToken);CallFeedSession=new s("AT_STARTUP");CallFeedSession.event("init");}else debug.log('ERROR! CallFeedToken not defined');}});})(this,this.document);